{"version":3,"sources":["misc/Counter/Counter.js","misc/Counter/Counter.module.css","pages/Cart/Cart.module.css","misc/CartProductCard/CartProduct.module.css","misc/CartProductCard/CartProduct.js","pages/Cart/Cart.js"],"names":["Counter","onChange","initialValue","useState","value","setValue","useEffect","className","s","container","onClick","prev","sign__icon__container","icon","maskChar","mask","target","rest","input","disableUnderline","module","exports","connect","state","allProductsInCart","cart","all","dispatch","changeNumberInCart","id","allProducts","changeNumberInCartAction","removeFromCart","product","removeFromCartAction","isSmall","gallery","title","price","_id","desc","numberInCart","productPrice","selectedAttributesId","selectedAttributesPrice","onCounterChange","classnames","card","small","main","to","img","src","require","alt","main__content","slice","category","price__wrapper","qty__counter__wrapper","qty__counter","fullprice__container","fullprice","remove__icon__wrapper","remove__icon","mobile","cartProducts","fullPrice","user","profile","addToCart","addToCartAction","setFullPrice","setFullPriceAction","showAlert","content","type","timeout","showAlertAction","h","useHistory","reduce","acc","breadCrumbsItems","name","path","bread__crumbs","title__container","BreadCrumbs","items","FixedWrapper","length","products__container","products__header","map","i","key","actions__container","actions__price","Button","push","size","isUppercase","empty__cart__msg__container","empty__cart__msg","catalog__btn","GoCatalogBtn"],"mappings":"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","file":"static/js/14.0e5f5e7e.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport s from \"./Counter.module.css\";\r\nimport InputMask from \"react-input-mask\";\r\nimport { ReactComponent as Minus } from \"../../assets/minus.svg\";\r\nimport { ReactComponent as Plus } from \"../../assets/plus.svg\";\r\n\r\nconst Counter = ({ onChange, initialValue }) => {\r\n  const [value, setValue] = useState(initialValue);\r\n\r\n  const onInputChange = ({ target }) => setValue(target.value);\r\n\r\n  const onPlusClick = () => setValue((prev) => +prev + 1);\r\n  const onMinusClick = () =>\r\n    setValue((prev) => (prev - 1 > 0 ? prev - 1 : prev));\r\n\r\n  useEffect(() => {\r\n    onChange(value);\r\n  }, [value]);\r\n  return (\r\n    <div className={s.container}>\r\n      <div onClick={onMinusClick} className={s.sign__icon__container}>\r\n        <Minus className={s.icon} />\r\n      </div>\r\n      <InputMask\r\n        maskChar=\"\"\r\n        mask=\"9999\"\r\n        {...{ value }}\r\n        onChange={onInputChange}\r\n      >\r\n        {(rest) => <input {...rest} className={s.input} disableUnderline />}\r\n      </InputMask>\r\n      <div onClick={onPlusClick} className={s.sign__icon__container}>\r\n        <Plus className={s.icon} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Counter;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Counter_container__1RWLz\",\"input\":\"Counter_input__2Nscp\",\"sign__icon__container\":\"Counter_sign__icon__container__2_QOa\",\"icon\":\"Counter_icon__LKSBM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Cart_container__10iHx\",\"title__container\":\"Cart_title__container__Xsefd\",\"bread__crumbs\":\"Cart_bread__crumbs__1H7Ur\",\"title\":\"Cart_title__RY3zc\",\"products__container\":\"Cart_products__container__2H2YR\",\"products__header\":\"Cart_products__header__8vu4F\",\"actions__container\":\"Cart_actions__container__3CXDH\",\"actions__price\":\"Cart_actions__price__1L7qx\",\"empty__cart__msg__container\":\"Cart_empty__cart__msg__container__Sh5rE\",\"catalog__btn\":\"Cart_catalog__btn__W0KiY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"CartProduct_card__35Gms\",\"small\":\"CartProduct_small__BGby6\",\"mobile\":\"CartProduct_mobile__3bFxq\",\"main\":\"CartProduct_main__1LD6D\",\"main__content\":\"CartProduct_main__content__1Jvr7\",\"title\":\"CartProduct_title__4clnY\",\"category\":\"CartProduct_category__2Fooi\",\"img\":\"CartProduct_img__3Z5Gg\",\"price\":\"CartProduct_price__1LVs_\",\"fullprice\":\"CartProduct_fullprice__2cDN-\",\"remove__icon\":\"CartProduct_remove__icon__2r_Qp\",\"icon_ft\":\"CartProduct_icon_ft__2XJiR\",\"price__wrapper\":\"CartProduct_price__wrapper__cElpA\",\"actions__container\":\"CartProduct_actions__container__1E0gG\",\"qty__counter__wrapper\":\"CartProduct_qty__counter__wrapper__37kg4\",\"fullprice__container\":\"CartProduct_fullprice__container__3sxYG\",\"remove__icon__wrapper\":\"CartProduct_remove__icon__wrapper__3-yE3\"};","import React, { useState, useEffect } from \"react\";\r\nimport s from \"./CartProduct.module.css\";\r\nimport { connect } from \"react-redux\";\r\nimport Counter from \"../Counter/Counter\";\r\nimport {\r\n  changeNumberInCartAction,\r\n  removeFromCartAction,\r\n} from \"../../store/actions/cartActions\";\r\nimport { Link } from \"react-router-dom\";\r\nimport classnames from \"classnames\";\r\nimport { ReactComponent as Times } from \"../../assets/times.svg\";\r\n\r\nconst CartProduct = ({\r\n  product,\r\n  changeNumberInCart,\r\n  removeFromCart,\r\n  allProductsInCart,\r\n  isSmall,\r\n}) => {\r\n  const {\r\n    gallery,\r\n    title,\r\n    price,\r\n    _id,\r\n    desc,\r\n    numberInCart = 1,\r\n    selectedAttributesId,\r\n    className,\r\n    selectedAttributesPrice,\r\n  } = product;\r\n\r\n  const productPrice = selectedAttributesPrice || price;\r\n\r\n  const onCounterChange = (value) =>\r\n    changeNumberInCart(value, _id, allProductsInCart);\r\n\r\n  const removeFromCartHandler = () => removeFromCart(product);\r\n\r\n  useEffect(() => {}, []);\r\n\r\n  return (\r\n    <div className={classnames(s.card, { [s.small]: isSmall })}>\r\n      <div className={s.main}>\r\n        <Link to={`product/${_id}`}>\r\n          <img\r\n            className={s.img}\r\n            src={gallery && gallery[0] || require(\"../../assets/image-placeholder.webp\")}\r\n            alt=\"loading\"\r\n          />\r\n        </Link>\r\n        <div className={s.main__content}>\r\n          <Link to={`product/${_id}`}>\r\n            <h4 className={s.title}>{title.slice(0, 15)}</h4>\r\n          </Link>\r\n          <p className={s.category}>{desc.slice(0, 20)}</p>\r\n        </div>\r\n      </div>\r\n      <div className={s.price__wrapper}>\r\n        <span className={s.price}>{productPrice}₴</span>\r\n      </div>\r\n      <div className={s.qty__counter__wrapper}>\r\n        <div className={s.qty__counter}>\r\n          <Counter onChange={onCounterChange} initialValue={numberInCart} />\r\n        </div>\r\n      </div>\r\n      <div className={s.fullprice__container}>\r\n        <span className={s.fullprice}>\r\n          {+numberInCart * +productPrice || 0}₴\r\n        </span>\r\n      </div>\r\n      <div className={s.remove__icon__wrapper}>\r\n        <Times onClick={removeFromCartHandler} className={s.remove__icon} />\r\n      </div>\r\n\r\n      <div className={s.mobile}>\r\n        <div className={s.fullprice__container}>\r\n          <span className={s.fullprice}>{numberInCart * price || 0}₴</span>\r\n        </div>\r\n        <div className={s.qty__counter}>\r\n          <Counter onChange={onCounterChange} initialValue={numberInCart} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    allProductsInCart: state.cart.all,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    changeNumberInCart: (value, id, allProducts) =>\r\n      dispatch(changeNumberInCartAction(value, id, allProducts)),\r\n    removeFromCart: (product) => dispatch(removeFromCartAction(product)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(CartProduct);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport s from \"./Cart.module.css\";\r\nimport { connect } from \"react-redux\";\r\nimport {\r\n  addToCartAction,\r\n  removeFromCartAction,\r\n  setFullPriceAction,\r\n} from \"../../store/actions/cartActions\";\r\nimport CartProduct from \"../../misc/CartProductCard/CartProduct\";\r\nimport FixedWrapper from \"../../wrappers/FixedWrapper/FixedWrapper\";\r\nimport Button from \"../../misc/Button/Button\";\r\nimport BreadCrumbs from \"../../misc/BreadCrumbs/BreadCrumbs\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { showAlertAction } from \"../../store/actions/alertActions\";\r\nimport GoCatalogBtn from \"../../misc/GoCatalogBtn/GoCatalogBtn\";\r\nimport { ReactComponent as Home } from \"../../assets/home.svg\";\r\n\r\nconst Cart = ({ cartProducts, fullPrice, setFullPrice, showAlert, user }) => {\r\n  const h = useHistory();\r\n\r\n  const onSubmit = () => {\r\n      h.push(\"/order\");\r\n  };\r\n\r\n  useEffect(() => {\r\n    setFullPrice(\r\n      cartProducts.reduce(\r\n        (acc, { price, numberInCart = 1, selectedAttributesPrice }) => {\r\n          const productPrice = +selectedAttributesPrice || price;\r\n          return acc + productPrice * numberInCart;\r\n        },\r\n        0\r\n      )\r\n    );\r\n  }, [cartProducts]);\r\n\r\n  const breadCrumbsItems = [\r\n    {\r\n      name: \"Головна\",\r\n      path: \"/\",\r\n      icon: <Home className={s.bread__crumbs} />,\r\n    },\r\n    { name: \"Кошик\", path: \"/cart\" },\r\n  ];\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <div className={s.title__container}>\r\n        <h1 className={s.title}>Кошик</h1>\r\n        <BreadCrumbs items={breadCrumbsItems} />\r\n      </div>\r\n      <FixedWrapper>\r\n        {cartProducts.length ? (\r\n          <>\r\n            <div className={s.products__container}>\r\n              <div className={s.products__header}>\r\n                <span>Товар</span>\r\n                <span>Ціна</span>\r\n                <span>Кількість</span>\r\n                <span>Загальна сума</span>\r\n                <span>Видалити</span>\r\n              </div>\r\n              {cartProducts.map((product, i) => (\r\n                <CartProduct {...{ product }} key={product._id} />\r\n              ))}\r\n            </div>\r\n            <div className={s.actions__container}>\r\n              <h2 className={s.actions__price}>{`${fullPrice || 0} ₴`}</h2>\r\n              <div>\r\n                <Button\r\n                  title=\"Купити\"\r\n                  onClick={onSubmit}\r\n                  size=\"xl\"\r\n                  isUppercase\r\n                />\r\n              </div>\r\n            </div>\r\n          </>\r\n        ) : (\r\n          <div className={s.empty__cart__msg__container}>\r\n            <h1 className={s.empty__cart__msg}>Поки що ваш кошик порожній</h1>\r\n            <div className={s.catalog__btn}>\r\n              <GoCatalogBtn />\r\n            </div>\r\n          </div>\r\n        )}\r\n      </FixedWrapper>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    cartProducts: state.cart.all,\r\n    fullPrice: state.cart.fullPrice,\r\n    user: state.profile,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addToCart: (product) => dispatch(addToCartAction(product)),\r\n    removeFromCart: (product) => dispatch(removeFromCartAction(product)),\r\n    setFullPrice: (fullPrice) => dispatch(setFullPriceAction(fullPrice)),\r\n    showAlert: (content, type, timeout = 5000) =>\r\n      dispatch(showAlertAction(content, type, timeout)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\r\n"],"sourceRoot":""}