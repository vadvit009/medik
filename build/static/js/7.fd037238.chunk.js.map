{"version":3,"sources":["misc/Inputs/ProfileInput/ProfileInput.js","misc/Inputs/ProfileInput/ProfileInput.module.css","store/actions/adminActions.js","pages/Admin/pages/CreateOrder/CreateOrder.module.css","pages/Admin/pages/CreateOrder/CreateOrder.js"],"names":["transitionStyles","entering","transform","entered","exiting","exited","Input","type","label","defaultValue","value","icon","onFocus","onBlur","style","inputStyle","onChange","placeholder","rest","useState","isFocused","setFocused","focusHandler","blurHandler","className","s","input__container","custom_input","in","timeout","state","input__icon__container","input__icon","color","size","alt","input","input_with_icon","module","exports","createCategoryAction","category","dispatch","a","token","getAdminToken","console","log","desc","gallery","postCategory","response","status","ADD_CATEGORY","getUsersAction","fetchUsers","data","SET_USERS","users","filterUsersAction","searchValue","RESET_FILTERED_USERS","filteredUsers","filter","fName","lName","phone","toLowerCase","startsWith","SET_FILTERED_USERS","connect","products","filtered","admin","cities","order","warehouses","selectedWarehouse","selectedCity","getProductsByPage","page","filterProducts","categoryId","filterProductsAction","getUser","id","redirect","getUserByIdAction","getUsers","filterUsers","getCities","getCitiesAction","filterCities","filterValue","limit","getWarehouses","city","getWarehousesAction","filterWarehouses","setSelectedCity","setSelectedCityAction","setSelectedWarehouse","warehouse","setSelectedWarehouseAction","getProducts","payOptions","deliveryOptions","onProductsMenuScroll","target","onProductSearchChange","onUsersSearchChange","onCitiesScroll","scrollHeight","scrollTop","length","onCitySearchChange","Description","onCitySelect","option","onWarehousesScroll","onWarehouseSearchChange","onWarehouseSelect","usersOptions","useMemo","map","user","productsOptions","product","title","useEffect","container","title__container","items","name","path","initialValues","price","paymentType","deliveryType","sName","validate","values","handleChange","setValues","key","_id","isSmall","body","noDefaultValue","withSearch","onSelect","formValues","setFormValues","onProductSelect","onSearchValueChange","onMenuScroll","options","containerClass","onUserSelect","input__row","inputClass","email","menuClass","select__menu","submit__container","isDisabled"],"mappings":"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","file":"static/js/7.fd037238.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport s from \"./ProfileInput.module.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Transition } from \"react-transition-group\";\n\nconst transitionStyles = {\n  entering: { transform: \"scale(1.2)\" },\n  entered: { transform: \"scale(1.2)\" },\n  exiting: { transform: \"scale(1)\" },\n  exited: { transform: \"scale(1)\" },\n};\n\nconst Input = ({\n  type,\n  label,\n  defaultValue,\n  value,\n  icon,\n  onFocus = () => {},\n  onBlur = () => {},\n  style = {},\n  inputStyle = {},\n  onChange = () => {},\n  placeholder = \"\",\n  ...rest\n}) => {\n  const [isFocused, setFocused] = useState(false);\n  const focusHandler = () => {\n    setFocused(true);\n    onFocus();\n  };\n  const blurHandler = () => {\n    setFocused(false);\n    onBlur();\n  };\n  return !icon ? (\n    <div className={s.input__container}>\n      <p className={s.label}>{label}</p>\n      <input\n        {...{ style }}\n        type={type || \"text\"}\n        className={s.input}\n        onFocus={focusHandler}\n        onBlur={blurHandler}\n        {...{ onChange }}\n        {...{ defaultValue }}\n        {...{ value }}\n        {...rest}\n        {...{ placeholder }}\n      />\n    </div>\n  ) : (\n    <div className={s.input__container}>\n      <p className={s.label}>{label}</p>\n      <div className={s.custom_input} style={inputStyle}>\n        <Transition in={isFocused} timeout={100}>\n          {(state) => (\n            <div className={s.input__icon__container}>\n              <FontAwesomeIcon\n                {...{ icon }}\n                style={transitionStyles[state]}\n                className={s.input__icon}\n                color=\"#6a6a6a\"\n                size=\"lg\"\n              />\n            </div>\n          )}\n        </Transition>\n        <input\n          {...{ style }}\n          type={type || \"text\"}\n          alt=\"loading\"\n          {...{ placeholder }}\n          onFocus={focusHandler}\n          onBlur={blurHandler}\n          {...{ onChange }}\n          {...{ value }}\n          className={`${s.input} ${s.input_with_icon}`}\n          defaultValue={defaultValue}\n          {...rest}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default Input;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input__container\":\"ProfileInput_input__container__YdTf3\",\"input__icon\":\"ProfileInput_input__icon__3b2IR\",\"input\":\"ProfileInput_input__1qD-N\",\"input_with_icon\":\"ProfileInput_input_with_icon__ZXQgN\",\"custom_input\":\"ProfileInput_custom_input__OoZtv\",\"input__icon__container\":\"ProfileInput_input__icon__container__25H2X\"};","import { postCategory, fetchUsers, postNews } from \"../api/api\";\nimport { getToken, getAdminToken } from \"../../utils/utils\";\nimport {\n  SET_USERS,\n  RESET_FILTERED_USERS,\n  SET_FILTERED_USERS,\n  ADD_CATEGORY,\n} from \"./actionTypes\";\n\nexport const createCategoryAction = (category) => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    console.log(\"token ===\", token);\n    console.log(\"category ===\", { ...category, desc: \"\", gallery: [\"\"] });\n\n    const response = await postCategory(\n      { ...category, desc: \"\", gallery: [\"\"] },\n      token\n    );\n    if (response.status === 200) {\n      dispatch({ type: ADD_CATEGORY, category });\n    }\n    console.log(\"category response ===\", response.status);\n  };\n};\n\nexport const createNewsAction = (news) => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    const response = await postNews(news, token);\n    console.log(\"news response ===\", response.data);\n  };\n};\n\nexport const getUsersAction = () => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    const response = await fetchUsers(token);\n    if (response.data) {\n      dispatch({\n        type: SET_USERS,\n        users: response.data,\n      });\n    }\n  };\n};\n\nexport const filterUsersAction = (searchValue, users) => {\n  if (!searchValue) {\n    return {\n      type: RESET_FILTERED_USERS,\n    };\n  }\n  const filteredUsers = users.filter(\n    ({ fName = \"\", lName = \"\", phone = \"\" }) => {\n      return (\n        fName.toLowerCase().startsWith(searchValue) ||\n        lName.toLowerCase().startsWith(searchValue) ||\n        `${phone}`.toLowerCase().startsWith(searchValue)\n      );\n    }\n  );\n  return {\n    type: SET_FILTERED_USERS,\n    users: filteredUsers,\n  };\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"CreateOrder_container__w9He4\",\"body\":\"CreateOrder_body__3vGfk\",\"input__container\":\"CreateOrder_input__container__1Wjix\",\"title__container\":\"CreateOrder_title__container__10AwY\",\"title\":\"CreateOrder_title__1smyz\",\"label\":\"CreateOrder_label__z8hR4\",\"submit__container\":\"CreateOrder_submit__container__1x0eb\",\"input__row\":\"CreateOrder_input__row__2ywn1\"};","import React, { useState, useRef, useEffect, useMemo } from \"react\";\nimport s from \"./CreateOrder.module.css\";\nimport { connect } from \"react-redux\";\nimport Select from \"../../../../misc/Select/Select\";\nimport Input from \"../../../../misc/Inputs/Input/Input\";\nimport FixedWrapper from \"../../../../wrappers/FixedWrapper/FixedWrapper\";\nimport ProfileInput from \"../../../../misc/Inputs/ProfileInput/ProfileInput\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport Button from \"../../../../misc/Button/Button\";\nimport {\n  getProductsByPage,\n  filterProductsAction,\n  getProducts,\n} from \"../../../../store/actions/productsActions\";\nimport BreadCrumbs from \"../../../../misc/BreadCrumbs/BreadCrumbs\";\nimport { Formik } from \"formik\";\nimport OrderProductCard from \"../../../../misc/OrderProductCard/OrderProductCard\";\nimport CartProduct from \"../../../../misc/CartProductCard/CartProduct\";\nimport {\n  getUsersAction,\n  filterUsersAction,\n} from \"../../../../store/actions/adminActions\";\nimport { getUserByIdAction } from \"../../../../store/actions/profileActions\";\nimport {\n  getCitiesAction,\n  getWarehousesAction,\n  setSelectedCityAction,\n  setSelectedWarehouseAction,\n} from \"../../../../store/actions/orderActions\";\n\nconst CreateOrder = ({\n  products,\n  filterProducts,\n  getUsers,\n  users,\n  filterUsers,\n  getCities,\n  getWarehouses,\n  cities,\n  filterCities,\n  setSelectedWarehouse,\n  setSelectedCity,\n  warehouses,\n  filterWarehouses,\n  selectedWarehouse,\n  selectedCity,\n  filteredUsers,\n  getProducts,\n}) => {\n  const [activePage, setActivePage] = useState(1);\n\n  const payOptions = [\n    { value: \"cash\", label: \"Наложений платіж\" },\n    { value: \"card\", label: \"Картою\" },\n  ];\n\n  const deliveryOptions = [\n    { value: \"self-pickup\", label: \"Самовивіз\" },\n    { value: \"np\", label: \"Нова пошта\" },\n    { value: \"up\", label: \"Укр пошта\" },\n  ];\n\n  const breadCrumbsItems = [\n    {\n      name: \"Адмін\",\n      path: \"/admin\",\n    },\n    { name: \"Створити замовлення\", path: \"/admin/create-order\" },\n  ];\n\n  console.log(\"products ===\", products);\n\n  const onProductsMenuScroll = ({ target }) => {\n    console.log(\"target ===\", target);\n  };\n\n  const onProductSearchChange = (searchValue) => {\n    console.log(\"search ===\", searchValue);\n    if (searchValue) {\n      filterProducts(null, searchValue);\n    }\n  };\n\n  const onProductSelect = (option, formValues, setFormValues) => {\n    setFormValues({\n      ...formValues,\n      products: [...formValues.products, option.value],\n    });\n  };\n\n  const onUserSelect = (option, formValues, setFormValues) => {\n    setFormValues({ ...formValues, user: option.value });\n  };\n\n  const onUsersSearchChange = (searchValue) => {\n    filterUsers(searchValue, users);\n  };\n\n  const onCitiesScroll = ({ target }, searchValue) => {\n    if (\n      target.scrollHeight - target.scrollTop < 400 &&\n      cities.length % 20 === 0\n    ) {\n      filterCities(searchValue, cities.length + 20);\n    }\n  };\n\n  const onCitySearchChange = (value) => {\n    if (cities.length === 1 && value === cities[0].Description) {\n      setSelectedCity(value);\n      getWarehouses(value);\n    }\n    filterCities(value);\n  };\n\n  const onCitySelect = (option) => {\n    setSelectedCity(option.label);\n    getWarehouses(option.label);\n  };\n\n  const onWarehousesScroll = ({ target }, searchValue) => {\n    if (\n      target.scrollHeight - target.scrollTop < 400 &&\n      warehouses.length % 20 === 0\n    ) {\n      filterWarehouses(searchValue, warehouses.length + 20);\n    }\n  };\n\n  const onWarehouseSearchChange = (value) => {\n    // setWarehouseSearchValue(value);\n    // if (warehouses.length === 1 && value === warehouses[0].Description) {\n    //   setSelectedWarehouse(value);\n    // }\n    // filterWarehouses(value);\n  };\n\n  const onWarehouseSelect = (option) => {\n    setSelectedWarehouse(option.label);\n  };\n\n  const usersOptions = useMemo(() => {\n    return filteredUsers.map((user) => ({\n      label: `${user.fName} ${user.lName} ${user.phone}`,\n      value: user,\n    }));\n  }, [filteredUsers]);\n\n  const productsOptions = useMemo(() => {\n    return products.map((product) => ({\n      label: product.title,\n      value: product,\n    }));\n  }, [products]);\n\n  console.log(\"users ===\", users);\n\n  useEffect(() => {\n    getUsers();\n    getProducts();\n  }, []);\n\n  return (\n    <div className={s.container}>\n      <div className={s.title__container}>\n        <h1 className={s.title}>Створення замовлення</h1>\n        <BreadCrumbs items={breadCrumbsItems} />\n      </div>\n      <FixedWrapper>\n        <Formik\n          initialValues={{\n            price: \"\",\n            products: [],\n            user: {},\n            paymentType: {},\n            deliveryType: {},\n            fName: \"\",\n            sName: \"\",\n          }}\n          validate={(values) => {\n            console.log(\"values ===\", values);\n          }}\n        >\n          {({ values, handleChange, setValues }) => (\n            <>\n              {values.products.map((product) => (\n                <CartProduct\n                  className={s.product}\n                  {...{ product }}\n                  key={product._id}\n                  isSmall\n                />\n              ))}\n              <div className={s.body}>\n                <Select\n                  noDefaultValue\n                  withSearch\n                  label=\"Додати товар\"\n                  onSelect={(option) => {\n                    return onProductSelect(option, values, setValues);\n                  }}\n                  onSearchValueChange={onProductSearchChange}\n                  onMenuScroll={onProductsMenuScroll}\n                  options={productsOptions}\n                />\n                <Select\n                  noDefaultValue\n                  withSearch\n                  containerClass={s.input__container}\n                  label=\"Оберіть користувача\"\n                  onSelect={(option) => onUserSelect(option, values, setValues)}\n                  onSearchValueChange={onUsersSearchChange}\n                  onMenuScroll={onProductsMenuScroll}\n                  options={usersOptions}\n                />\n                <div className={s.input__row}>\n                  <Input\n                    name=\"fName\"\n                    inputClass={s.input}\n                    containerClass={s.input__container}\n                    value={values.user.fName}\n                    onChange={({ target }) => {\n                      return setValues({\n                        ...values,\n                        user: { ...values.user, fName: target.value },\n                      });\n                    }}\n                    label=\"Ім'я\"\n                    placeholder=\"John\"\n                  />\n                  <Input\n                    placeholder=\"Doe\"\n                    name=\"lName\"\n                    inputClass={s.input}\n                    containerClass={s.input__container}\n                    value={values.user.lName}\n                    onChange={({ target }) => {\n                      return setValues({\n                        ...values,\n                        user: { ...values.user, lName: target.value },\n                      });\n                    }}\n                    label=\"Прізвище\"\n                  />\n                </div>\n                <div className={s.input__row}>\n                  <Input\n                    name=\"phone\"\n                    inputClass={s.input}\n                    containerClass={s.input__container}\n                    value={values.user.phone}\n                    onChange={({ target }) => {\n                      return setValues({\n                        ...values,\n                        user: { ...values.user, phone: target.value },\n                      });\n                    }}\n                    label=\"Номер телефону\"\n                    placeholder=\"0681231231\"\n                  />\n                  <Input\n                    placeholder=\"example@gmail.com\"\n                    name=\"email\"\n                    inputClass={s.input}\n                    containerClass={s.input__container}\n                    value={values.user.email}\n                    onChange={({ target }) => {\n                      return setValues({\n                        ...values,\n                        user: { ...values.user, email: target.value },\n                      });\n                    }}\n                    label=\"Електронна пошта\"\n                  />\n                </div>\n                <Select\n                  noDefaultValue\n                  containerClass={s.input__container}\n                  options={payOptions}\n                  onSelect={(option) => {\n                    return setValues({ ...values, paymentType: option });\n                  }}\n                  label=\"Тип оплати\"\n                  value={values.paymentType.label}\n                />\n                <Select\n                  noDefaultValue\n                  containerClass={s.input__container}\n                  options={deliveryOptions}\n                  onSelect={(option) => {\n                    return setValues({ ...values, deliveryType: option });\n                  }}\n                  label=\"Тип доставки\"\n                  value={values.deliveryType.label}\n                />\n                <Select\n                  containerClass={s.input__container}\n                  withSearch\n                  noDefaultValue\n                  onMenuScroll={onCitiesScroll}\n                  menuClass={s.select__menu}\n                  options={cities.map((city) => ({\n                    value: city.Description,\n                    label: city.Description,\n                  }))}\n                  onSelect={onCitySelect}\n                  onSearchValueChange={onCitySearchChange}\n                  label=\"Місто\"\n                />\n                <Select\n                  containerClass={s.input__container}\n                  withSearch\n                  noDefaultValue\n                  onMenuScroll={onWarehousesScroll}\n                  menuClass={s.select__menu}\n                  options={warehouses.map((warehouse) => ({\n                    value: warehouse.Description,\n                    label: warehouse.Description,\n                  }))}\n                  onSelect={onWarehouseSelect}\n                  onSearchValueChange={onWarehouseSearchChange}\n                  label=\"Номер відділення\"\n                />\n                <Input\n                  name=\"price\"\n                  placeholder=\"10\"\n                  label=\"Ціна\"\n                  value={values.price}\n                  containerClass={s.input__container}\n                  onChange={handleChange}\n                />\n                <div className={s.submit__container}>\n                  <Button\n                    isDisabled={!values.user || !values.products.length}\n                    title=\"Створити\"\n                    size=\"lg\"\n                  />\n                </div>\n              </div>\n            </>\n          )}\n        </Formik>\n      </FixedWrapper>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    products: state.products.filtered,\n    users: state.admin.users,\n    filteredUsers: state.admin.filteredUsers,\n    cities: state.order.cities,\n    warehouses: state.order.warehouses,\n    selectedWarehouse: state.order.selectedWarehouse,\n    selectedCity: state.order.selectedCity,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getProductsByPage: (page) => dispatch(getProductsByPage(page)),\n    filterProducts: (categoryId, searchValue) =>\n      dispatch(filterProductsAction(categoryId, searchValue)),\n    getUser: (id, redirect) => dispatch(getUserByIdAction(id, redirect)),\n    getUsers: () => dispatch(getUsersAction()),\n    filterUsers: (searchValue, users) =>\n      dispatch(filterUsersAction(searchValue, users)),\n    getCities: () => dispatch(getCitiesAction()),\n    filterCities: (filterValue, limit) =>\n      dispatch(getCitiesAction(filterValue, limit)),\n    getWarehouses: (city) => dispatch(getWarehousesAction(city)),\n    filterWarehouses: (filterValue) =>\n      dispatch(getWarehousesAction(filterValue)),\n    setSelectedCity: (city) => dispatch(setSelectedCityAction(city)),\n    setSelectedWarehouse: (warehouse) =>\n      dispatch(setSelectedWarehouseAction(warehouse)),\n    getProducts: () => dispatch(getProducts()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CreateOrder);\n"],"sourceRoot":""}