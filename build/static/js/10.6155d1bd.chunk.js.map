{"version":3,"sources":["misc/Counter/Counter.js","misc/Counter/Counter.module.css","misc/CartProductCard/CartProduct.js","misc/CartProductCard/CartProduct.module.css","pages/Cart/Cart.module.css","pages/Cart/Cart.js"],"names":["Counter","onChange","initialValue","useState","value","setValue","useEffect","className","s","container","onClick","prev","sign__icon__container","icon","faMinus","maskChar","mask","target","rest","input","disableUnderline","faPlus","module","exports","connect","state","allProductsInCart","cart","all","dispatch","changeNumberInCart","id","allProducts","changeNumberInCartAction","removeFromCart","product","removeFromCartAction","isSmall","gallery","title","price","_id","desc","numberInCart","productPrice","selectedAttributesId","selectedAttributesPrice","onCounterChange","classnames","card","small","main","to","img","src","require","alt","main__content","slice","category","price__wrapper","qty__counter__wrapper","qty__counter","fullprice__container","fullprice","remove__icon__wrapper","faTimes","remove__icon","mobile","cartProducts","fullPrice","user","profile","addToCart","addToCartAction","setFullPrice","setFullPriceAction","showAlert","content","type","timeout","showAlertAction","h","useHistory","reduce","acc","breadCrumbsItems","name","path","faHome","title__container","items","length","products__container","products__header","map","i","key","actions__container","actions__price","push","pathname","redirectTo","size","isUppercase","empty__cart__msg__container","empty__cart__msg","catalog__btn"],"mappings":"kLAsCeA,IAhCC,SAAC,GAAgC,IAA9BC,EAA6B,EAA7BA,SAAUC,EAAmB,EAAnBA,aAAmB,EACpBC,mBAASD,GADW,mBACvCE,EADuC,KAChCC,EADgC,KAY9C,OAHAC,qBAAU,WACRL,EAASG,KACR,CAACA,IAEF,yBAAKG,UAAWC,IAAEC,WAChB,yBAAKC,QARY,kBACnBL,GAAS,SAACM,GAAD,OAAWA,EAAO,EAAI,EAAIA,EAAO,EAAIA,MAOhBJ,UAAWC,IAAEI,uBACvC,kBAAC,IAAD,CAAiBL,UAAWC,IAAEK,KAAMA,KAAMC,OAE5C,kBAAC,IAAD,eACEC,SAAS,GACTC,KAAK,QACD,CAAEZ,SAHR,CAIEH,SAlBgB,SAAC,GAAD,IAAGgB,EAAH,EAAGA,OAAH,OAAgBZ,EAASY,EAAOb,WAoB/C,SAACc,GAAD,OAAU,2CAAWA,EAAX,CAAiBX,UAAWC,IAAEW,MAAOC,kBAAgB,QAElE,yBAAKV,QApBW,kBAAML,GAAS,SAACM,GAAD,OAAWA,EAAO,MAoBtBJ,UAAWC,IAAEI,uBACtC,kBAAC,IAAD,CAAiBL,UAAWC,IAAEK,KAAMA,KAAMQ,U,oBC/BlDC,EAAOC,QAAU,CAAC,UAAY,2BAA2B,MAAQ,uBAAuB,sBAAwB,uCAAuC,KAAO,wB,8ICuG/IC,iBAbS,SAACC,GACvB,MAAO,CACLC,kBAAmBD,EAAME,KAAKC,QAGP,SAACC,GAC1B,MAAO,CACLC,mBAAoB,SAAC1B,EAAO2B,EAAIC,GAAZ,OAClBH,EAASI,YAAyB7B,EAAO2B,EAAIC,KAC/CE,eAAgB,SAACC,GAAD,OAAaN,EAASO,YAAqBD,QAIhDX,EA3FK,SAAC,GAMd,IALLW,EAKI,EALJA,QACAL,EAII,EAJJA,mBACAI,EAGI,EAHJA,eACAR,EAEI,EAFJA,kBACAW,EACI,EADJA,QAGEC,EASEH,EATFG,QACAC,EAQEJ,EARFI,MACAC,EAOEL,EAPFK,MACAC,EAMEN,EANFM,IACAC,EAKEP,EALFO,KANE,EAWAP,EAJFQ,oBAPE,MAOa,EAPb,EAaEC,GAFFT,EAHFU,qBAGEV,EAFF5B,UAEE4B,EADFW,yBAG8CN,GAE1CO,EAAkB,SAAC3C,GAAD,OACtB0B,EAAmB1B,EAAOqC,EAAKf,IAMjC,OAFApB,qBAAU,cAAU,IAGlB,yBAAKC,UAAWyC,IAAWxC,IAAEyC,KAAH,eAAYzC,IAAE0C,MAAQb,KAC9C,yBAAK9B,UAAWC,IAAE2C,MAChB,kBAAC,IAAD,CAAMC,GAAE,kBAAaX,IACnB,yBACElC,UAAWC,IAAE6C,IACbC,IAAKhB,EAAQ,IAAMiB,EAAQ,IAC3BC,IAAI,aAGR,yBAAKjD,UAAWC,IAAEiD,eAChB,kBAAC,IAAD,CAAML,GAAE,kBAAaX,IACnB,wBAAIlC,UAAWC,IAAE+B,OAAQA,EAAMmB,MAAM,EAAG,MAE1C,uBAAGnD,UAAWC,IAAEmD,UAAWjB,EAAKgB,MAAM,EAAG,OAG7C,yBAAKnD,UAAWC,IAAEoD,gBAChB,0BAAMrD,UAAWC,IAAEgC,OAAQI,EAA3B,WAEF,yBAAKrC,UAAWC,IAAEqD,uBAChB,yBAAKtD,UAAWC,IAAEsD,cAChB,kBAAC,IAAD,CAAS7D,SAAU8C,EAAiB7C,aAAcyC,MAGtD,yBAAKpC,UAAWC,IAAEuD,sBAChB,0BAAMxD,UAAWC,IAAEwD,YACfrB,GAAgBC,GAAgB,EADpC,WAIF,yBAAKrC,UAAWC,IAAEyD,uBAChB,kBAAC,IAAD,CACEpD,KAAMqD,IACNxD,QArCsB,kBAAMwB,EAAeC,IAsC3C5B,UAAWC,IAAE2D,gBAIjB,yBAAK5D,UAAWC,IAAE4D,QAChB,yBAAK7D,UAAWC,IAAEuD,sBAChB,0BAAMxD,UAAWC,IAAEwD,WAAYrB,EAAeH,GAAS,EAAvD,WAEF,yBAAKjC,UAAWC,IAAEsD,cAChB,kBAAC,IAAD,CAAS7D,SAAU8C,EAAiB7C,aAAcyC,W,oBCnF5DrB,EAAOC,QAAU,CAAC,KAAO,0BAA0B,MAAQ,2BAA2B,OAAS,4BAA4B,KAAO,0BAA0B,cAAgB,mCAAmC,MAAQ,2BAA2B,SAAW,8BAA8B,IAAM,yBAAyB,MAAQ,2BAA2B,UAAY,+BAA+B,aAAe,kCAAkC,QAAU,6BAA6B,eAAiB,oCAAoC,mBAAqB,wCAAwC,sBAAwB,2CAA2C,qBAAuB,0CAA0C,sBAAwB,6C,oBCA9uBD,EAAOC,QAAU,CAAC,UAAY,wBAAwB,iBAAmB,+BAA+B,MAAQ,oBAAoB,oBAAsB,kCAAkC,iBAAmB,+BAA+B,mBAAqB,iCAAiC,eAAiB,6BAA6B,4BAA8B,0CAA0C,aAAe,6B,iCCDza,oIAkHeC,uBAjBS,SAACC,GACvB,MAAO,CACL4C,aAAc5C,EAAME,KAAKC,IACzB0C,UAAW7C,EAAME,KAAK2C,UACtBC,KAAM9C,EAAM+C,YAGW,SAAC3C,GAC1B,MAAO,CACL4C,UAAW,SAACtC,GAAD,OAAaN,EAAS6C,YAAgBvC,KACjDD,eAAgB,SAACC,GAAD,OAAaN,EAASO,YAAqBD,KAC3DwC,aAAc,SAACL,GAAD,OAAezC,EAAS+C,YAAmBN,KACzDO,UAAW,SAACC,EAASC,GAAV,IAAgBC,EAAhB,uDAA0B,IAA1B,OACTnD,EAASoD,YAAgBH,EAASC,EAAMC,QAI/BxD,EAhGF,SAAC,GAAgE,IAA9D6C,EAA6D,EAA7DA,aAAcC,EAA+C,EAA/CA,UAAWK,EAAoC,EAApCA,aAAcE,EAAsB,EAAtBA,UAAWN,EAAW,EAAXA,KAC1DW,EAAIC,cAWV7E,qBAAU,WACRqE,EACEN,EAAae,QACX,SAACC,EAAD,GAAgE,IAAxD7C,EAAuD,EAAvDA,MAAuD,IAAhDG,oBAAgD,MAAjC,EAAiC,EAE7D,OAAO0C,IAFsD,EAA9BvC,yBACkBN,GACrBG,IAE9B,MAGH,CAAC0B,IAEJ,IAAMiB,EAAmB,CACvB,CACEC,KAAM,6CACNC,KAAM,IACN3E,KAAM,kBAAC,IAAD,CAAiBA,KAAM4E,OAE/B,CAAEF,KAAM,iCAASC,KAAM,UAGzB,OACE,yBAAKjF,UAAWC,IAAEC,WAChB,yBAAKF,UAAWC,IAAEkF,kBAChB,wBAAInF,UAAWC,IAAE+B,OAAjB,kCACA,kBAAC,IAAD,CAAaoD,MAAOL,KAEtB,kBAAC,IAAD,KACGjB,EAAauB,OACZ,oCACE,yBAAKrF,UAAWC,IAAEqF,qBAChB,yBAAKtF,UAAWC,IAAEsF,kBAChB,gEACA,0DACA,wFACA,2GACA,mFAEDzB,EAAa0B,KAAI,SAAC5D,EAAS6D,GAAV,OAChB,kBAAC,IAAD,cAAiB,CAAE7D,WAAnB,CAA8B8D,IAAK9D,EAAQM,WAG/C,yBAAKlC,UAAWC,IAAE0F,oBAChB,wBAAI3F,UAAWC,IAAE2F,gBAAjB,UAAqC7B,GAAa,EAAlD,YACA,6BACE,kBAAC,IAAD,CACE/B,MAAM,uCACN7B,QAxDC,YACX,OAAC6D,QAAD,IAACA,OAAD,EAACA,EAAM9B,KAITyC,EAAEkB,KAAK,WAHPvB,EAAU,+KAAoC,WAC9CK,EAAEkB,KAAK,CAAEC,SAAU,SAAU5E,MAAO,CAAE6E,WAAY,cAsDtCC,KAAK,KACLC,aAAW,OAMnB,yBAAKjG,UAAWC,IAAEiG,6BAChB,wBAAIlG,UAAWC,IAAEkG,kBAAjB,4IACA,yBAAKnG,UAAWC,IAAEmG,cAChB,kBAAC,IAAD","file":"static/js/10.6155d1bd.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport s from \"./Counter.module.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPlus, faMinus } from \"@fortawesome/free-solid-svg-icons\";\nimport InputMask from \"react-input-mask\";\n\nconst Counter = ({ onChange, initialValue }) => {\n  const [value, setValue] = useState(initialValue);\n\n  const onInputChange = ({ target }) => setValue(target.value);\n\n  const onPlusClick = () => setValue((prev) => +prev + 1);\n  const onMinusClick = () =>\n    setValue((prev) => (prev - 1 > 0 ? prev - 1 : prev));\n\n  useEffect(() => {\n    onChange(value);\n  }, [value]);\n  return (\n    <div className={s.container}>\n      <div onClick={onMinusClick} className={s.sign__icon__container}>\n        <FontAwesomeIcon className={s.icon} icon={faMinus} />\n      </div>\n      <InputMask\n        maskChar=\"\"\n        mask=\"9999\"\n        {...{ value }}\n        onChange={onInputChange}\n      >\n        {(rest) => <input {...rest} className={s.input} disableUnderline />}\n      </InputMask>\n      <div onClick={onPlusClick} className={s.sign__icon__container}>\n        <FontAwesomeIcon className={s.icon} icon={faPlus} />\n      </div>\n    </div>\n  );\n};\n\nexport default Counter;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Counter_container__2_Q_l\",\"input\":\"Counter_input__1QdB9\",\"sign__icon__container\":\"Counter_sign__icon__container__3Iid8\",\"icon\":\"Counter_icon__iLHUU\"};","import React, { useState, useEffect } from \"react\";\nimport s from \"./CartProduct.module.css\";\nimport { connect } from \"react-redux\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport Counter from \"../Counter/Counter\";\nimport {\n  changeNumberInCartAction,\n  removeFromCartAction,\n} from \"../../store/actions/cartActions\";\nimport { Link } from \"react-router-dom\";\nimport classnames from \"classnames\";\n\nconst CartProduct = ({\n  product,\n  changeNumberInCart,\n  removeFromCart,\n  allProductsInCart,\n  isSmall,\n}) => {\n  const {\n    gallery,\n    title,\n    price,\n    _id,\n    desc,\n    numberInCart = 1,\n    selectedAttributesId,\n    className,\n    selectedAttributesPrice,\n  } = product;\n\n  const productPrice = selectedAttributesPrice || price;\n\n  const onCounterChange = (value) =>\n    changeNumberInCart(value, _id, allProductsInCart);\n\n  const removeFromCartHandler = () => removeFromCart(product);\n\n  useEffect(() => {}, []);\n\n  return (\n    <div className={classnames(s.card, { [s.small]: isSmall })}>\n      <div className={s.main}>\n        <Link to={`product/${_id}`}>\n          <img\n            className={s.img}\n            src={gallery[0] || require(\"../../assets/image-placeholder.webp\")}\n            alt=\"loading\"\n          />\n        </Link>\n        <div className={s.main__content}>\n          <Link to={`product/${_id}`}>\n            <h4 className={s.title}>{title.slice(0, 15)}</h4>\n          </Link>\n          <p className={s.category}>{desc.slice(0, 20)}</p>\n        </div>\n      </div>\n      <div className={s.price__wrapper}>\n        <span className={s.price}>{productPrice}₴</span>\n      </div>\n      <div className={s.qty__counter__wrapper}>\n        <div className={s.qty__counter}>\n          <Counter onChange={onCounterChange} initialValue={numberInCart} />\n        </div>\n      </div>\n      <div className={s.fullprice__container}>\n        <span className={s.fullprice}>\n          {+numberInCart * +productPrice || 0}₴\n        </span>\n      </div>\n      <div className={s.remove__icon__wrapper}>\n        <FontAwesomeIcon\n          icon={faTimes}\n          onClick={removeFromCartHandler}\n          className={s.remove__icon}\n        />\n      </div>\n\n      <div className={s.mobile}>\n        <div className={s.fullprice__container}>\n          <span className={s.fullprice}>{numberInCart * price || 0}₴</span>\n        </div>\n        <div className={s.qty__counter}>\n          <Counter onChange={onCounterChange} initialValue={numberInCart} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    allProductsInCart: state.cart.all,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    changeNumberInCart: (value, id, allProducts) =>\n      dispatch(changeNumberInCartAction(value, id, allProducts)),\n    removeFromCart: (product) => dispatch(removeFromCartAction(product)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CartProduct);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"CartProduct_card__2gObI\",\"small\":\"CartProduct_small__1TbOi\",\"mobile\":\"CartProduct_mobile__3UgN3\",\"main\":\"CartProduct_main__2J1p0\",\"main__content\":\"CartProduct_main__content__3erZp\",\"title\":\"CartProduct_title__2Gu7n\",\"category\":\"CartProduct_category__sD1zs\",\"img\":\"CartProduct_img__Ur-_3\",\"price\":\"CartProduct_price__1Xsbi\",\"fullprice\":\"CartProduct_fullprice__2cnw1\",\"remove__icon\":\"CartProduct_remove__icon__3zXOO\",\"icon_ft\":\"CartProduct_icon_ft__3gQ15\",\"price__wrapper\":\"CartProduct_price__wrapper__1qG9z\",\"actions__container\":\"CartProduct_actions__container__2cwBQ\",\"qty__counter__wrapper\":\"CartProduct_qty__counter__wrapper__3SpMd\",\"fullprice__container\":\"CartProduct_fullprice__container__2EZfs\",\"remove__icon__wrapper\":\"CartProduct_remove__icon__wrapper__1eyMh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Cart_container__n9zxW\",\"title__container\":\"Cart_title__container__1ScIh\",\"title\":\"Cart_title__1_2px\",\"products__container\":\"Cart_products__container__uHesd\",\"products__header\":\"Cart_products__header__3UilO\",\"actions__container\":\"Cart_actions__container__3kK7z\",\"actions__price\":\"Cart_actions__price__3zR-F\",\"empty__cart__msg__container\":\"Cart_empty__cart__msg__container__295KX\",\"catalog__btn\":\"Cart_catalog__btn__FO2oD\"};","import React, { useEffect, useState } from \"react\";\nimport s from \"./Cart.module.css\";\nimport { connect } from \"react-redux\";\nimport {\n  addToCartAction,\n  removeFromCartAction,\n  setFullPriceAction,\n} from \"../../store/actions/cartActions\";\nimport CartProduct from \"../../misc/CartProductCard/CartProduct\";\nimport FixedWrapper from \"../../wrappers/FixedWrapper/FixedWrapper\";\nimport Button from \"../../misc/Button/Button\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHome } from \"@fortawesome/free-solid-svg-icons\";\nimport BreadCrumbs from \"../../misc/BreadCrumbs/BreadCrumbs\";\nimport { useHistory } from \"react-router-dom\";\nimport { showAlertAction } from \"../../store/actions/alertActions\";\nimport GoCatalogBtn from \"../../misc/GoCatalogBtn/GoCatalogBtn\";\n\nconst Cart = ({ cartProducts, fullPrice, setFullPrice, showAlert, user }) => {\n  const h = useHistory();\n\n  const onSubmit = () => {\n    if (!user?._id) {\n      showAlert(\"Увійдіть, щоб зробити замовлення\", \"warning\");\n      h.push({ pathname: \"/login\", state: { redirectTo: \"/order\" } });\n    } else {\n      h.push(\"/order\");\n    }\n  };\n\n  useEffect(() => {\n    setFullPrice(\n      cartProducts.reduce(\n        (acc, { price, numberInCart = 1, selectedAttributesPrice }) => {\n          const productPrice = +selectedAttributesPrice || price;\n          return acc + productPrice * numberInCart;\n        },\n        0\n      )\n    );\n  }, [cartProducts]);\n\n  const breadCrumbsItems = [\n    {\n      name: \"Головна\",\n      path: \"/\",\n      icon: <FontAwesomeIcon icon={faHome} />,\n    },\n    { name: \"Кошик\", path: \"/cart\" },\n  ];\n\n  return (\n    <div className={s.container}>\n      <div className={s.title__container}>\n        <h1 className={s.title}>Кошик</h1>\n        <BreadCrumbs items={breadCrumbsItems} />\n      </div>\n      <FixedWrapper>\n        {cartProducts.length ? (\n          <>\n            <div className={s.products__container}>\n              <div className={s.products__header}>\n                <span>Товар</span>\n                <span>Ціна</span>\n                <span>Кількість</span>\n                <span>Загальна сума</span>\n                <span>Видалити</span>\n              </div>\n              {cartProducts.map((product, i) => (\n                <CartProduct {...{ product }} key={product._id} />\n              ))}\n            </div>\n            <div className={s.actions__container}>\n              <h2 className={s.actions__price}>{`${fullPrice || 0} ₴`}</h2>\n              <div>\n                <Button\n                  title=\"Купити\"\n                  onClick={onSubmit}\n                  size=\"xl\"\n                  isUppercase\n                />\n              </div>\n            </div>\n          </>\n        ) : (\n          <div className={s.empty__cart__msg__container}>\n            <h1 className={s.empty__cart__msg}>Поки що ваш кошик порожній</h1>\n            <div className={s.catalog__btn}>\n              <GoCatalogBtn />\n            </div>\n          </div>\n        )}\n      </FixedWrapper>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    cartProducts: state.cart.all,\n    fullPrice: state.cart.fullPrice,\n    user: state.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addToCart: (product) => dispatch(addToCartAction(product)),\n    removeFromCart: (product) => dispatch(removeFromCartAction(product)),\n    setFullPrice: (fullPrice) => dispatch(setFullPriceAction(fullPrice)),\n    showAlert: (content, type, timeout = 5000) =>\n      dispatch(showAlertAction(content, type, timeout)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\n"],"sourceRoot":""}