{"version":3,"sources":["misc/Counter/Counter.js","misc/CartProductCard/CartProduct.js","misc/CartProductCard/CartProduct.module.css","misc/Counter/Counter.module.css","pages/Cart/Cart.module.css","pages/Cart/Cart.js"],"names":["Counter","onChange","initialValue","useState","value","setValue","useEffect","className","s","container","onClick","prev","sign__icon__container","icon","maskChar","mask","target","rest","input","disableUnderline","connect","state","allProductsInCart","cart","all","dispatch","changeNumberInCart","id","allProducts","changeNumberInCartAction","removeFromCart","product","removeFromCartAction","isSmall","gallery","title","price","_id","desc","numberInCart","productPrice","selectedAttributesId","selectedAttributesPrice","onCounterChange","classnames","card","small","main","to","img","src","require","alt","main__content","slice","category","price__wrapper","qty__counter__wrapper","qty__counter","fullprice__container","fullprice","remove__icon__wrapper","remove__icon","mobile","module","exports","cartProducts","fullPrice","user","profile","addToCart","addToCartAction","setFullPrice","setFullPriceAction","showAlert","content","type","timeout","showAlertAction","h","useHistory","reduce","acc","breadCrumbsItems","name","path","bread__crumbs","title__container","items","length","products__container","products__header","map","i","key","actions__container","actions__price","push","pathname","redirectTo","size","isUppercase","empty__cart__msg__container","empty__cart__msg","catalog__btn"],"mappings":"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","file":"static/js/10.a9b0f592.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport s from \"./Counter.module.css\";\nimport InputMask from \"react-input-mask\";\nimport { ReactComponent as Minus } from \"../../assets/minus.svg\";\nimport { ReactComponent as Plus } from \"../../assets/plus.svg\";\n\nconst Counter = ({ onChange, initialValue }) => {\n  const [value, setValue] = useState(initialValue);\n\n  const onInputChange = ({ target }) => setValue(target.value);\n\n  const onPlusClick = () => setValue((prev) => +prev + 1);\n  const onMinusClick = () =>\n    setValue((prev) => (prev - 1 > 0 ? prev - 1 : prev));\n\n  useEffect(() => {\n    onChange(value);\n  }, [value]);\n  return (\n    <div className={s.container}>\n      <div onClick={onMinusClick} className={s.sign__icon__container}>\n        <Minus className={s.icon} />\n      </div>\n      <InputMask\n        maskChar=\"\"\n        mask=\"9999\"\n        {...{ value }}\n        onChange={onInputChange}\n      >\n        {(rest) => <input {...rest} className={s.input} disableUnderline />}\n      </InputMask>\n      <div onClick={onPlusClick} className={s.sign__icon__container}>\n        <Plus className={s.icon} />\n      </div>\n    </div>\n  );\n};\n\nexport default Counter;\n","import React, { useState, useEffect } from \"react\";\nimport s from \"./CartProduct.module.css\";\nimport { connect } from \"react-redux\";\nimport Counter from \"../Counter/Counter\";\nimport {\n  changeNumberInCartAction,\n  removeFromCartAction,\n} from \"../../store/actions/cartActions\";\nimport { Link } from \"react-router-dom\";\nimport classnames from \"classnames\";\nimport { ReactComponent as Times } from \"../../assets/times.svg\";\n\nconst CartProduct = ({\n  product,\n  changeNumberInCart,\n  removeFromCart,\n  allProductsInCart,\n  isSmall,\n}) => {\n  const {\n    gallery,\n    title,\n    price,\n    _id,\n    desc,\n    numberInCart = 1,\n    selectedAttributesId,\n    className,\n    selectedAttributesPrice,\n  } = product;\n\n  const productPrice = selectedAttributesPrice || price;\n\n  const onCounterChange = (value) =>\n    changeNumberInCart(value, _id, allProductsInCart);\n\n  const removeFromCartHandler = () => removeFromCart(product);\n\n  useEffect(() => {}, []);\n\n  return (\n    <div className={classnames(s.card, { [s.small]: isSmall })}>\n      <div className={s.main}>\n        <Link to={`product/${_id}`}>\n          <img\n            className={s.img}\n            src={gallery[0] || require(\"../../assets/image-placeholder.webp\")}\n            alt=\"loading\"\n          />\n        </Link>\n        <div className={s.main__content}>\n          <Link to={`product/${_id}`}>\n            <h4 className={s.title}>{title.slice(0, 15)}</h4>\n          </Link>\n          <p className={s.category}>{desc.slice(0, 20)}</p>\n        </div>\n      </div>\n      <div className={s.price__wrapper}>\n        <span className={s.price}>{productPrice}₴</span>\n      </div>\n      <div className={s.qty__counter__wrapper}>\n        <div className={s.qty__counter}>\n          <Counter onChange={onCounterChange} initialValue={numberInCart} />\n        </div>\n      </div>\n      <div className={s.fullprice__container}>\n        <span className={s.fullprice}>\n          {+numberInCart * +productPrice || 0}₴\n        </span>\n      </div>\n      <div className={s.remove__icon__wrapper}>\n        <Times onClick={removeFromCartHandler} className={s.remove__icon} />\n      </div>\n\n      <div className={s.mobile}>\n        <div className={s.fullprice__container}>\n          <span className={s.fullprice}>{numberInCart * price || 0}₴</span>\n        </div>\n        <div className={s.qty__counter}>\n          <Counter onChange={onCounterChange} initialValue={numberInCart} />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    allProductsInCart: state.cart.all,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    changeNumberInCart: (value, id, allProducts) =>\n      dispatch(changeNumberInCartAction(value, id, allProducts)),\n    removeFromCart: (product) => dispatch(removeFromCartAction(product)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CartProduct);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"CartProduct_card__3PKq-\",\"small\":\"CartProduct_small__3pU04\",\"mobile\":\"CartProduct_mobile__35kMB\",\"main\":\"CartProduct_main__17GBg\",\"main__content\":\"CartProduct_main__content__3HICV\",\"title\":\"CartProduct_title__Z0UVM\",\"category\":\"CartProduct_category__2uJ8I\",\"img\":\"CartProduct_img__3XZRW\",\"price\":\"CartProduct_price__UaZAN\",\"fullprice\":\"CartProduct_fullprice__1Re4j\",\"remove__icon\":\"CartProduct_remove__icon__1ZNIy\",\"icon_ft\":\"CartProduct_icon_ft__1Fe2Q\",\"price__wrapper\":\"CartProduct_price__wrapper__3z3qr\",\"actions__container\":\"CartProduct_actions__container__11gEV\",\"qty__counter__wrapper\":\"CartProduct_qty__counter__wrapper__6xobb\",\"fullprice__container\":\"CartProduct_fullprice__container__3AX9-\",\"remove__icon__wrapper\":\"CartProduct_remove__icon__wrapper__3F4k-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Counter_container__2bVjC\",\"input\":\"Counter_input__2n6Hu\",\"sign__icon__container\":\"Counter_sign__icon__container__24ZFO\",\"icon\":\"Counter_icon__1x5vv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Cart_container__3mUqc\",\"title__container\":\"Cart_title__container__3I3re\",\"bread__crumbs\":\"Cart_bread__crumbs__I7sOh\",\"title\":\"Cart_title__2UcTc\",\"products__container\":\"Cart_products__container__zV56r\",\"products__header\":\"Cart_products__header__tPioz\",\"actions__container\":\"Cart_actions__container__2Fg2x\",\"actions__price\":\"Cart_actions__price__20QTe\",\"empty__cart__msg__container\":\"Cart_empty__cart__msg__container__3hNs2\",\"catalog__btn\":\"Cart_catalog__btn__3Tb_I\"};","import React, { useEffect, useState } from \"react\";\nimport s from \"./Cart.module.css\";\nimport { connect } from \"react-redux\";\nimport {\n  addToCartAction,\n  removeFromCartAction,\n  setFullPriceAction,\n} from \"../../store/actions/cartActions\";\nimport CartProduct from \"../../misc/CartProductCard/CartProduct\";\nimport FixedWrapper from \"../../wrappers/FixedWrapper/FixedWrapper\";\nimport Button from \"../../misc/Button/Button\";\nimport BreadCrumbs from \"../../misc/BreadCrumbs/BreadCrumbs\";\nimport { useHistory } from \"react-router-dom\";\nimport { showAlertAction } from \"../../store/actions/alertActions\";\nimport GoCatalogBtn from \"../../misc/GoCatalogBtn/GoCatalogBtn\";\nimport { ReactComponent as Home } from \"../../assets/home.svg\";\n\nconst Cart = ({ cartProducts, fullPrice, setFullPrice, showAlert, user }) => {\n  const h = useHistory();\n\n  const onSubmit = () => {\n    if (!user?._id) {\n      showAlert(\"Увійдіть, щоб зробити замовлення\", \"warning\");\n      h.push({ pathname: \"/login\", state: { redirectTo: \"/order\" } });\n    } else {\n      h.push(\"/order\");\n    }\n  };\n\n  useEffect(() => {\n    setFullPrice(\n      cartProducts.reduce(\n        (acc, { price, numberInCart = 1, selectedAttributesPrice }) => {\n          const productPrice = +selectedAttributesPrice || price;\n          return acc + productPrice * numberInCart;\n        },\n        0\n      )\n    );\n  }, [cartProducts]);\n\n  const breadCrumbsItems = [\n    {\n      name: \"Головна\",\n      path: \"/\",\n      icon: <Home className={s.bread__crumbs} />,\n    },\n    { name: \"Кошик\", path: \"/cart\" },\n  ];\n\n  return (\n    <div className={s.container}>\n      <div className={s.title__container}>\n        <h1 className={s.title}>Кошик</h1>\n        <BreadCrumbs items={breadCrumbsItems} />\n      </div>\n      <FixedWrapper>\n        {cartProducts.length ? (\n          <>\n            <div className={s.products__container}>\n              <div className={s.products__header}>\n                <span>Товар</span>\n                <span>Ціна</span>\n                <span>Кількість</span>\n                <span>Загальна сума</span>\n                <span>Видалити</span>\n              </div>\n              {cartProducts.map((product, i) => (\n                <CartProduct {...{ product }} key={product._id} />\n              ))}\n            </div>\n            <div className={s.actions__container}>\n              <h2 className={s.actions__price}>{`${fullPrice || 0} ₴`}</h2>\n              <div>\n                <Button\n                  title=\"Купити\"\n                  onClick={onSubmit}\n                  size=\"xl\"\n                  isUppercase\n                />\n              </div>\n            </div>\n          </>\n        ) : (\n          <div className={s.empty__cart__msg__container}>\n            <h1 className={s.empty__cart__msg}>Поки що ваш кошик порожній</h1>\n            <div className={s.catalog__btn}>\n              <GoCatalogBtn />\n            </div>\n          </div>\n        )}\n      </FixedWrapper>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    cartProducts: state.cart.all,\n    fullPrice: state.cart.fullPrice,\n    user: state.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addToCart: (product) => dispatch(addToCartAction(product)),\n    removeFromCart: (product) => dispatch(removeFromCartAction(product)),\n    setFullPrice: (fullPrice) => dispatch(setFullPriceAction(fullPrice)),\n    showAlert: (content, type, timeout = 5000) =>\n      dispatch(showAlertAction(content, type, timeout)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Cart);\n"],"sourceRoot":""}