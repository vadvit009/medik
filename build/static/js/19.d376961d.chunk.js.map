{"version":3,"sources":["store/actions/adminActions.js","misc/Admin/OrderAttributeOptions/OrderAttributeOptions.js","misc/Admin/OrderAttributeOptions/OrderAttributeOptions.module.css","pages/Admin/pages/EditProduct/EditProduct.module.css","pages/Admin/pages/EditProduct/EditProduct.js"],"names":["createCategoryAction","category","dispatch","a","token","getAdminToken","type","SET_LOADING","isLoading","createCategory","desc","gallery","response","status","ADD_CATEGORY","data","deleteCategoryAction","id","deleteCategory","DELETE_CATEGORY","createNewsAction","body","createNews","uploadImageToNews","deleteNewsAction","deleteNews","DELETE_NEWS","editNewsAction","news","imageFormData","patchNews","createVendorAction","vendor","createVendor","deleteVendorAction","deleteVendor","_id","editVendorAction","patchVendor","getAttributesAction","fetchAttributes","SET_ATTRIBUTES","attributes","deleteAttributeAction","deleteAttribute","DELETE_ATTRIBUTE","createAttributeAction","attribute","createAttribute","ADD_ATTRIBUTE","editAttributeAction","patchAttribute","getUsersAction","fetchUsers","SET_USERS","users","deleteUserAction","deleteUser","DELETE_USER","getVendorsAction","fetchVendors","SET_VENDORS","vendors","filterUsersAction","searchValue","RESET_FILTERED_USERS","filteredUsers","filter","fName","lName","phone","toLowerCase","startsWith","SET_FILTERED_USERS","createProductAction","product","thumbnail","postProduct","productRes","productGallery","postProductGallery","galleryResponse","ADD_PRODUCT","editProductAction","patchProduct","console","log","deleteProductAction","deleteProduct","DELETE_PRODUCT","getOrdersAction","fetchOrders","SET_ORDERS","orders","getOrderProductsAction","order","productsIds","products","map","join","fetchExactProducts","SET_ORDERS_PRODUCTS","orderId","deleteOrderAction","deleteOrder","OrderAttributeOptions","options","setAttrOptions","attrOptions","useEffect","cartesian","cartesianProduct","item","uuid","combination","i","combinationsJSX","Object","entries","key","value","className","s","combination__item","maskChar","mask","placeholder","priceAttr","onChange","combinationsCopy","onCombinationInputChange","target","props","containerClass","combination__input__container","module","exports","formikHOC","withFormik","mapPropsToValues","title","galleryFiles","price","article","quantity","recommended","attributesLabels","isPriceChanges","handleSubmit","val","editProduct","showAlert","resetForm","productToSubmit","attr","label","name","vendorID","categoryID","visibility","reviews","galleryFormData","length","FormData","forEach","image","append","getAttributes","getCategories","getVendors","categories","handleChange","values","setValues","getProduct","useState","filteredVendors","setFilteredVendors","filteredAttributes","setFilteredAttributes","filteredCategories","setFilteredCategories","onAttributesCheckboxChange","e","isPriceChangesByAttributes","vendorsOptions","useMemo","categoriesOptions","attributesOptions","useParams","tempAttributes","tempAttributesLabels","option","keys","includes","push","container","title__container","input__container","images__container","image__container","delete__icon","onClick","imageToDelete","filteredGallery","deleteImage","src","alt","multiple","files","temp","Array","from","file","reader","FileReader","onload","result","readAsDataURL","handleImages","isTextarea","withSearch","defaultSearchValue","onSelect","onSearchValueChange","filtered","trim","noDefaultValue","clearInputOnSelect","attributes__container","attributes__checkbox__container","checked","attributes__checkbox","attributes__checkbox__label","attributeValues","number","index","onAttributeValueChange","submit__container","size","connect","state","admin","single","getCategoriesAction","getSingleProductAction","content","showAlertAction"],"mappings":"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","file":"static/js/19.d376961d.chunk.js","sourcesContent":["import {\r\n  createCategory,\r\n  fetchUsers,\r\n  createVendor,\r\n  fetchVendors,\r\n  fetchAttributes,\r\n  deleteAttribute,\r\n  deleteCategory,\r\n  createAttribute,\r\n  patchAttribute,\r\n  createNews,\r\n  uploadImageToNews,\r\n  deleteNews,\r\n  deleteVendor,\r\n  deleteUser,\r\n  patchVendor,\r\n  fetchUserData,\r\n  fetchUserById,\r\n  postProduct,\r\n  postProductGallery,\r\n  deleteProduct,\r\n  patchNews,\r\n  patchProduct,\r\n  fetchOrders,\r\n  fetchSingleProduct,\r\n  deleteOrder,\r\n  fetchExactProducts,\r\n} from \"../api/api\";\r\nimport { getToken, getAdminToken } from \"../../utils/utils\";\r\nimport {\r\n  SET_USERS,\r\n  RESET_FILTERED_USERS,\r\n  SET_FILTERED_USERS,\r\n  ADD_CATEGORY,\r\n  SET_ATTRIBUTES,\r\n  DELETE_ATTRIBUTE,\r\n  DELETE_CATEGORY,\r\n  ADD_ATTRIBUTE,\r\n  DELETE_NEWS,\r\n  SET_VENDORS,\r\n  DELETE_USER,\r\n  SET_LOADING,\r\n  ADD_PRODUCT,\r\n  SET_ORDERS,\r\n  DELETE_PRODUCT,\r\n  SET_ORDERS_PRODUCTS,\r\n} from \"./actionTypes\";\r\n\r\nexport const createCategoryAction = (category) => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n    const response = await createCategory(\r\n      { ...category, desc: \"\", gallery: [\"\"] },\r\n      token\r\n    );\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n    if (response.status === 200) {\r\n      dispatch({ type: ADD_CATEGORY, category: response.data });\r\n    }\r\n    return response.status === 200;\r\n  };\r\n};\r\n\r\nexport const deleteCategoryAction = (id) => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n    const response = await deleteCategory(id, token);\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n    if (response.status === 200) {\r\n      dispatch({ type: DELETE_CATEGORY, id });\r\n    }\r\n    return response.status === 200;\r\n  };\r\n};\r\n\r\nexport const createNewsAction = (body, gallery) => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n    const response = await createNews(body, token);\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n    if (!gallery || !response?.data) {\r\n      return false;\r\n    }\r\n    if (response.status === 200) {\r\n      const imageResponse = await uploadImageToNews(\r\n        gallery,\r\n        response.data,\r\n        token\r\n      );\r\n\r\n      return true;\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteNewsAction = (id) => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n    const response = await deleteNews(id, token);\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n    if (response.status === 200) {\r\n      dispatch({\r\n        type: DELETE_NEWS,\r\n        id,\r\n      });\r\n    }\r\n    return response.status === 200;\r\n  };\r\n};\r\n\r\nexport const editNewsAction = (news, id, imageFormData) => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n    const response = await patchNews(news, id, token);\r\n    if (response.status === 200) {\r\n      const imageResponse = await uploadImageToNews(\r\n        imageFormData,\r\n        response.data,\r\n        token\r\n      );\r\n    }\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n    return response.status === 200;\r\n  };\r\n};\r\n\r\nexport const createVendorAction = (vendor) => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n    const response = await createVendor(vendor, token);\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n    return response.status === 200;\r\n  };\r\n};\r\n\r\nexport const deleteVendorAction = (vendor) => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n    const response = await deleteVendor(vendor._id, token);\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n    return response.status === 200;\r\n  };\r\n};\r\n\r\nexport const editVendorAction = (vendor) => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n    const response = await patchVendor(vendor, vendor._id, token);\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n    return response.status === 200;\r\n  };\r\n};\r\n\r\nexport const getAttributesAction = () => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n    const response = await fetchAttributes(token);\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n    if (response.status === 200) {\r\n      dispatch({\r\n        type: SET_ATTRIBUTES,\r\n        attributes: response.data,\r\n      });\r\n    }\r\n    return response.status === 200;\r\n  };\r\n};\r\n\r\nexport const deleteAttributeAction = (id) => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n    const response = await deleteAttribute(id, token);\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n    if (response.status === 200) {\r\n      dispatch({\r\n        type: DELETE_ATTRIBUTE,\r\n        id,\r\n      });\r\n    }\r\n    return response.status === 200;\r\n  };\r\n};\r\n\r\nexport const createAttributeAction = (attribute) => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n    const response = await createAttribute(attribute, token);\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n    if (response.status === 200) {\r\n      dispatch({\r\n        type: ADD_ATTRIBUTE,\r\n        attribute: response.data,\r\n      });\r\n    }\r\n    return response.status === 200;\r\n  };\r\n};\r\n\r\nexport const editAttributeAction = (attribute) => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n\r\n    const response = await patchAttribute(attribute, token);\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n    return response.status === 200;\r\n  };\r\n};\r\n\r\nexport const getUsersAction = () => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n    const response = await fetchUsers(token);\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n    if (response.status === 200) {\r\n      dispatch({\r\n        type: SET_USERS,\r\n        users: response.data,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const deleteUserAction = (id) => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n    const response = await deleteUser(id, token);\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n\r\n    if (response.status === 200) {\r\n      dispatch({\r\n        type: DELETE_USER,\r\n        id,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const getVendorsAction = () => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    const response = await fetchVendors(token);\r\n    if (response.status === 200) {\r\n      dispatch({\r\n        type: SET_VENDORS,\r\n        vendors: response.data,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const filterUsersAction = (searchValue, users) => {\r\n  if (!searchValue) {\r\n    return {\r\n      type: RESET_FILTERED_USERS,\r\n    };\r\n  }\r\n  const filteredUsers = users.filter(\r\n    ({ fName = \"\", lName = \"\", phone = \"\" }) => {\r\n      return (\r\n        fName.toLowerCase().startsWith(searchValue) ||\r\n        lName.toLowerCase().startsWith(searchValue) ||\r\n        `${phone}`.toLowerCase().startsWith(searchValue)\r\n      );\r\n    }\r\n  );\r\n  return {\r\n    type: SET_FILTERED_USERS,\r\n    users: filteredUsers,\r\n  };\r\n};\r\n\r\nexport const createProductAction = (product, gallery, thumbnail) => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n    const productRes = await postProduct(product, token);\r\n    if (productRes?.data) {\r\n      let productGallery = productRes.gallery;\r\n      if (gallery) {\r\n        const galleryResponse = await postProductGallery(\r\n          gallery,\r\n          productRes.data._id,\r\n          token\r\n        );\r\n        if (galleryResponse?.data) {\r\n          productGallery = galleryResponse.data;\r\n        }\r\n      }\r\n      if (thumbnail) {\r\n        const thumbnailResponse = await postProductGallery(\r\n          thumbnail,\r\n          productRes.data._id,\r\n          token,\r\n          true\r\n        );\r\n      }\r\n      dispatch({\r\n        type: ADD_PRODUCT,\r\n        product: { ...productRes.data, gallery: productGallery },\r\n      });\r\n    }\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n    return productRes.status === 200;\r\n  };\r\n};\r\n\r\nexport const editProductAction = (product, gallery, id) => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n    const productRes = await patchProduct(product, id, token);\r\n\r\n    if (productRes.status === 200) {\r\n      let productGallery = productRes.gallery;\r\n      console.log(\"gallery ===\", gallery)\r\n      if (gallery) {\r\n        const galleryResponse = await postProductGallery(\r\n          gallery,\r\n          productRes.data._id,\r\n          token\r\n        );\r\n        if (galleryResponse?.data) {\r\n          productGallery = galleryResponse.data;\r\n        }\r\n        dispatch({\r\n          type: ADD_PRODUCT,\r\n          product: { ...productRes.data, gallery: productGallery },\r\n        });\r\n        dispatch({ type: SET_LOADING, isLoading: false });\r\n        return galleryResponse.status === 200;\r\n      }\r\n    }\r\n    dispatch({\r\n      type: ADD_PRODUCT,\r\n      product: { ...productRes.data, gallery: [] },\r\n    });\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n    return productRes.status === 200;\r\n  };\r\n};\r\n\r\nexport const deleteProductAction = (id) => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n    const response = await deleteProduct(id, token);\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n    if (response.status === 200) {\r\n      dispatch({ type: DELETE_PRODUCT, id: response.data._id });\r\n    }\r\n  };\r\n};\r\n\r\nexport const getOrdersAction = () => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n    const response = await fetchOrders(token);\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n    if (response.status === 200) {\r\n      dispatch({ type: SET_ORDERS, orders: response.data });\r\n    }\r\n  };\r\n};\r\n\r\nexport const getOrderProductsAction = (order) => {\r\n  return async (dispatch) => {\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n    const productsIds = order.products.map(({ id }) => id).join(\",\");\r\n\r\n    const products = await fetchExactProducts(productsIds);\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n    dispatch({ type: SET_ORDERS_PRODUCTS, products, orderId: order._id });\r\n  };\r\n};\r\n\r\nexport const deleteOrderAction = (id) => {\r\n  return async (dispatch) => {\r\n    const token = getAdminToken();\r\n    dispatch({ type: SET_LOADING, isLoading: true });\r\n    const response = await deleteOrder(token);\r\n    dispatch({ type: SET_LOADING, isLoading: false });\r\n    return response.status === 200;\r\n  };\r\n};\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport s from \"./OrderAttributeOptions.module.css\";\r\nimport { cartesianProduct } from \"../../../utils/utils\";\r\nimport Input from \"../../Inputs/Input/Input\";\r\nimport InputMask from \"react-input-mask\";\r\nimport uuid from \"react-uuid\";\r\n\r\nconst OrderAttributeOptions = ({\r\n  options,\r\n  setAttrOptions,\r\n  attrOptions = [],\r\n}) => {\r\n  const onCombinationInputChange = (value, i) => {\r\n    const combinationsCopy = [...attrOptions];\r\n    combinationsCopy[i] = { ...attrOptions[i], priceAttr: +value };\r\n    setAttrOptions(combinationsCopy);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const cartesian = cartesianProduct(options);\r\n    setAttrOptions(cartesian.map((item) => ({ ...item, _id: uuid() })));\r\n  }, [options]);\r\n\r\n  return (\r\n    <div>\r\n      <div>\r\n        {attrOptions.map((combination, i) => {\r\n          const combinationsJSX = Object.entries(combination).map(\r\n            ([key, value]) =>\r\n              key !== \"priceAttr\" && (\r\n                <div {...{ key }} className={s.combination__item}>\r\n                  <span>{key}: </span>\r\n                  <span>{value}</span>\r\n                </div>\r\n              )\r\n          );\r\n\r\n          return (\r\n            <div className={s.combination} key={i}>\r\n              <div>{combinationsJSX}</div>\r\n              <InputMask\r\n                maskChar=\"\"\r\n                mask=\"99999999\"\r\n                placeholder=\"100\"\r\n                value={combination.priceAttr}\r\n                onChange={({ target }) =>\r\n                  onCombinationInputChange(target.value, i)\r\n                }\r\n              >\r\n                {(props) => (\r\n                  <Input\r\n                    {...props}\r\n                    containerClass={s.combination__input__container}\r\n                  />\r\n                )}\r\n              </InputMask>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderAttributeOptions;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"combination\":\"OrderAttributeOptions_combination__qUY8r\",\"combination__item\":\"OrderAttributeOptions_combination__item__37r1s\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"body\":\"EditProduct_body__3m5Kz\",\"input__container\":\"EditProduct_input__container__3iwFL\",\"title__container\":\"EditProduct_title__container__1gU5m\",\"title\":\"EditProduct_title__LZAoK\",\"images__container\":\"EditProduct_images__container__mIycF\",\"image__container\":\"EditProduct_image__container__221Ho\",\"image\":\"EditProduct_image__3kGwK\",\"delete__icon\":\"EditProduct_delete__icon__1iwJB\",\"label\":\"EditProduct_label__1HGOE\",\"submit__container\":\"EditProduct_submit__container__l7DaQ\",\"attributes__container\":\"EditProduct_attributes__container__3_hI7\",\"attribute\":\"EditProduct_attribute__UqAUg\",\"attributes__checkbox__container\":\"EditProduct_attributes__checkbox__container__dZDjM\",\"attributes__checkbox__label\":\"EditProduct_attributes__checkbox__label__3tfNq\",\"attributes__checkbox\":\"EditProduct_attributes__checkbox__3Et4t\"};","import React, { useState, useRef, useEffect, useMemo } from \"react\";\r\nimport s from \"./EditProduct.module.css\";\r\nimport { connect } from \"react-redux\";\r\nimport Select from \"../../../../misc/Select/Select\";\r\nimport Input from \"../../../../misc/Inputs/Input/Input\";\r\nimport FixedWrapper from \"../../../../wrappers/FixedWrapper/FixedWrapper\";\r\nimport Button from \"../../../../misc/Button/Button\";\r\nimport { Formik, withFormik } from \"formik\";\r\nimport { getCategoriesAction } from \"../../../../store/actions/productsActions\";\r\nimport {\r\n  getVendorsAction,\r\n  getAttributesAction,\r\n  createProductAction,\r\n  editProductAction,\r\n} from \"../../../../store/actions/adminActions\";\r\nimport Cartesian from \"react-cartesian\";\r\nimport OrderAttributeOptions from \"../../../../misc/Admin/OrderAttributeOptions/OrderAttributeOptions\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { fetchSingleProduct } from \"../../../../store/api/api\";\r\nimport { getSingleProductAction } from \"../../../../store/actions/singleProductActions\";\r\nimport uuid from \"react-uuid\";\r\nimport { showAlertAction } from \"../../../../store/actions/alertActions\";\r\nimport { ReactComponent as Times } from \"../../../../assets/times.svg\";\r\n\r\nconst EditProduct = ({\r\n  getAttributes,\r\n  getCategories,\r\n  getVendors,\r\n  categories,\r\n  vendors,\r\n  attributes,\r\n  handleChange,\r\n  handleSubmit,\r\n  values,\r\n  setValues,\r\n  getProduct,\r\n  product,\r\n}) => {\r\n  const [filteredVendors, setFilteredVendors] = useState([]);\r\n  const [filteredAttributes, setFilteredAttributes] = useState([]);\r\n  const [filteredCategories, setFilteredCategories] = useState([]);\r\n\r\n  const handleImages = ({ target: { files } }) => {\r\n    const temp = [];\r\n\r\n    Array.from(files).forEach((file) => {\r\n      const reader = new FileReader();\r\n\r\n      reader.onload = ({ target: { result } }) => {\r\n        temp.push(result);\r\n        setValues({\r\n          ...values,\r\n          gallery: temp,\r\n          galleryFiles: Array.from(files),\r\n        });\r\n      };\r\n      reader.readAsDataURL(file);\r\n    });\r\n  };\r\n\r\n  const onCategorySelect = ({ value }) => {\r\n    setValues({ ...values, category: value });\r\n  };\r\n\r\n  const onCategoryInputChange = (value = \"\") => {\r\n    const filtered = categories.filter(\r\n      (category) =>\r\n        category.title ||\r\n        \"\".trim().toLowerCase().startsWith(value.trim().toLowerCase())\r\n    );\r\n    setFilteredCategories(filtered);\r\n  };\r\n\r\n  const onAttributeSelect = ({ value }) => {\r\n    const isValueAlreadyExist = !!values.attributesLabels.filter(\r\n      (attribute) => attribute._id === value._id\r\n    ).length;\r\n    if (!isValueAlreadyExist) {\r\n      setValues({\r\n        ...values,\r\n        attributesLabels: [...values.attributesLabels, value],\r\n        attributes: { ...values.attributes, [value.name]: [] },\r\n      });\r\n    }\r\n  };\r\n\r\n  const onAttributeInputChange = (value = \"\") => {\r\n    const filtered = attributes.filter((attribute) =>\r\n      attribute.name.trim().toLowerCase().startsWith(value.trim().toLowerCase())\r\n    );\r\n    setFilteredAttributes(filtered);\r\n  };\r\n\r\n  const onAttributeValueChange = (value = \"\", id, index, name) => {\r\n    const temp = [...values.attributes[name]];\r\n    temp[index] = value;\r\n    setValues({\r\n      ...values,\r\n      attributes: {\r\n        ...values.attributes,\r\n        [name]: temp,\r\n      },\r\n    });\r\n  };\r\n\r\n  const setAttrOptions = (attrOptions) => {\r\n    setValues({ ...values, attrOptions });\r\n  };\r\n\r\n  const onAttributesCheckboxChange = (e) => {\r\n    setValues({\r\n      ...values,\r\n      isPriceChangesByAttributes: !values.isPriceChangesByAttributes,\r\n    });\r\n  };\r\n\r\n  const onVendorSelect = ({ value }) => {\r\n    setValues({ ...values, vendor: value });\r\n  };\r\n\r\n  const onVendorInputChange = (value = \"\") => {\r\n    const filtered = vendors.filter((vendor) => {\r\n      return vendor.title\r\n        .trim()\r\n        .toLowerCase()\r\n        .startsWith(value.trim().toLowerCase());\r\n    });\r\n    setFilteredVendors(filtered);\r\n  };\r\n\r\n  const deleteImage = (imageToDelete) => {\r\n    const filteredGallery = values.gallery.filter(\r\n      (image) => image !== imageToDelete\r\n    );\r\n    setValues({ ...values, gallery: filteredGallery });\r\n  };\r\n\r\n  const vendorsOptions = useMemo(() => {\r\n    return filteredVendors.map((vendor) => ({\r\n      label: vendor.title,\r\n      value: vendor,\r\n    }));\r\n  }, [filteredVendors]);\r\n\r\n  const categoriesOptions = useMemo(() => {\r\n    return filteredCategories.map((category) => ({\r\n      label: category.title,\r\n      value: category,\r\n    }));\r\n  }, [filteredCategories]);\r\n\r\n  const attributesOptions = useMemo(() => {\r\n    return filteredAttributes.map((attribute) => ({\r\n      label: attribute.name,\r\n      value: attribute,\r\n    }));\r\n  }, [filteredAttributes]);\r\n\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    if (!vendors.length) {\r\n      getAttributes();\r\n      getCategories();\r\n      getVendors();\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setFilteredVendors(vendors);\r\n  }, [vendors]);\r\n\r\n  useEffect(() => {\r\n    setFilteredCategories(categories);\r\n  }, [categories]);\r\n\r\n  useEffect(() => {\r\n    setFilteredAttributes(attributes);\r\n  }, [attributes]);\r\n\r\n  useEffect(() => {\r\n    getProduct(id);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!product) {\r\n      return;\r\n    }\r\n\r\n    const tempAttributes = {};\r\n    const tempAttributesLabels = [];\r\n\r\n    product.attrOptions.forEach((option) => {\r\n      Object.keys(option).forEach((key) => {\r\n        if (key === \"_id\" || key === \"priceAttr\") return;\r\n        if (!tempAttributes[key]) {\r\n          tempAttributes[key] = [];\r\n        }\r\n        if (!tempAttributes[key].includes(option[key])) {\r\n          tempAttributes[key].push(option[key]);\r\n        }\r\n        const isLabelAlreadyExist = !tempAttributesLabels.filter(\r\n          (label) => label.name === key\r\n        ).length;\r\n        if (isLabelAlreadyExist) {\r\n          tempAttributesLabels.push({ name: key, _id: uuid() });\r\n        }\r\n      });\r\n    });\r\n\r\n    setValues({\r\n      ...values,\r\n      title: product.title,\r\n      desc: product.desc,\r\n      attributes: tempAttributes,\r\n      attributesLabels: tempAttributesLabels,\r\n      attrOptions: product.attrOptions,\r\n      vendor: product.vendorID,\r\n      category: product.categoryID,\r\n      price: product.price,\r\n      article: product.article,\r\n      recommended: product.recommended,\r\n      quantity: product.quantity,\r\n      visibility: product.visibility,\r\n      reviews: product.reviews,\r\n      _id: product._id,\r\n    });\r\n  }, [product]);\r\n\r\n  return (\r\n    <div className={s.container}>\r\n      <div className={s.title__container}>\r\n        <h1 className={s.title}>Створення товару</h1>\r\n      </div>\r\n      <FixedWrapper>\r\n        <form className={s.body}>\r\n          <Input\r\n            label=\"Назва\"\r\n            value={values.title}\r\n            name=\"title\"\r\n            placeholder=\"Стетоскоп\"\r\n            onChange={handleChange}\r\n            containerClass={s.input__container}\r\n          />\r\n          <div className={s.input__container}>\r\n            <p className={s.label}>Фото</p>\r\n            <div className={s.images__container}>\r\n              {values.gallery.map((image) => (\r\n                <div className={s.image__container}>\r\n                  <Times\r\n                    className={s.delete__icon}\r\n                    onClick={() => deleteImage(image, setValues, values)}\r\n                  />\r\n                  <img className={s.image} src={image} alt=\"loading\" />\r\n                </div>\r\n              ))}\r\n            </div>\r\n            <input\r\n              type=\"file\"\r\n              multiple\r\n              onChange={(e) => handleImages(e, setValues, values)}\r\n            />\r\n          </div>\r\n          <Input\r\n            label=\"Опис\"\r\n            value={values.desc}\r\n            name=\"desc\"\r\n            placeholder=\"Багатофункціональний високоякісний стетоскоп типу SPRAGUE RAPPAPORT.\"\r\n            onChange={handleChange}\r\n            containerClass={s.input__container}\r\n            isTextarea\r\n          />\r\n          <Input\r\n            label=\"Ціна\"\r\n            value={values.price}\r\n            placeholder=\"123\"\r\n            name=\"price\"\r\n            onChange={handleChange}\r\n            containerClass={s.input__container}\r\n          />\r\n          <Select\r\n            label=\"Країна виробника\"\r\n            value={values?.vendor}\r\n            withSearch\r\n            defaultSearchValue={values.vendor?.title}\r\n            onSelect={onVendorSelect}\r\n            onSearchValueChange={onVendorInputChange}\r\n            options={vendorsOptions}\r\n            containerClass={s.input__container}\r\n          />\r\n          <Select\r\n            label=\"Категорія\"\r\n            value={values.category}\r\n            withSearch\r\n            defaultSearchValue={values.category?.title}\r\n            onSelect={onCategorySelect}\r\n            onSearchValueChange={onCategoryInputChange}\r\n            options={categoriesOptions}\r\n            containerClass={s.input__container}\r\n          />\r\n          <Select\r\n            label=\"Атрибути\"\r\n            value={values.attribute}\r\n            withSearch\r\n            noDefaultValue\r\n            clearInputOnSelect\r\n            onSelect={onAttributeSelect}\r\n            onSearchValueChange={onAttributeInputChange}\r\n            options={attributesOptions}\r\n            containerClass={s.input__container}\r\n          />\r\n          {!!values.attributesLabels.length && (\r\n            <div className={s.attributes__container}>\r\n              <div className={s.attributes__checkbox__container}>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={values.isPriceChangesByAttributes}\r\n                  className={s.attributes__checkbox}\r\n                  onChange={onAttributesCheckboxChange}\r\n                />\r\n                <p\r\n                  onClick={onAttributesCheckboxChange}\r\n                  className={s.attributes__checkbox__label}\r\n                >\r\n                  Ціна продукту не залежить від обраних атрибутів\r\n                </p>\r\n              </div>\r\n              {values.attributesLabels.map(({ _id, name }) => {\r\n                const attributeValues = values.attributes[name];\r\n\r\n                return (\r\n                  <div key={_id} className={s.attribute}>\r\n                    <p>{name}</p>\r\n                    <div>\r\n                      {[...Array(attributeValues.length + 1).keys()].map(\r\n                        (number) => (\r\n                          <Input\r\n                            placeholder=\"Значення атрибута\"\r\n                            key={_id + number}\r\n                            value={attributeValues[number]}\r\n                            onChange={({ target }) =>\r\n                              onAttributeValueChange(\r\n                                target.value,\r\n                                _id,\r\n                                number,\r\n                                name\r\n                              )\r\n                            }\r\n                          />\r\n                        )\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n              <OrderAttributeOptions\r\n                {...{ setAttrOptions }}\r\n                options={values.attributes}\r\n                attrOptions={values.attrOptions}\r\n              />\r\n            </div>\r\n          )}\r\n          <Input\r\n            label=\"Артикул\"\r\n            value={values.article}\r\n            name=\"article\"\r\n            onChange={handleChange}\r\n            containerClass={s.input__container}\r\n          />\r\n          <Input\r\n            label=\"Кількість\"\r\n            value={values.quantity}\r\n            name=\"quantity\"\r\n            onChange={handleChange}\r\n            containerClass={s.input__container}\r\n          />\r\n          <div className={s.submit__container}>\r\n            <Button onClick={handleSubmit} title=\"Змінити\" size=\"lg\" />\r\n          </div>\r\n        </form>\r\n      </FixedWrapper>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst formikHOC = withFormik({\r\n  mapPropsToValues: () => ({\r\n    title: \"\",\r\n    desc: \"\",\r\n    gallery: [],\r\n    galleryFiles: [],\r\n    price: \"\",\r\n    article: \"\",\r\n    quantity: 1,\r\n    recommended: false,\r\n    attributesLabels: [],\r\n    attrOptions: [],\r\n    attributes: {},\r\n    vendor: {},\r\n    category: {},\r\n    isPriceChanges: false,\r\n    _id: \"\",\r\n  }),\r\n  handleSubmit: async (\r\n    val,\r\n    { props: { editProduct, showAlert }, resetForm }\r\n  ) => {\r\n    const productToSubmit = {\r\n      title: val.title,\r\n      desc: val.desc,\r\n      attr: val.attributesLabels.map((label) => label.name),\r\n      attrOptions: val.attrOptions,\r\n      vendorID: val.vendor?._id,\r\n      categoryID: val.category?._id,\r\n      price: val.price,\r\n      article: val.article,\r\n      recommended: val.recommended,\r\n      quantity: val.quantity,\r\n      visibility: true,\r\n      reviews: [],\r\n    };\r\n\r\n    let galleryFormData = null;\r\n    console.log(\"gallery files length ===\", val.galleryFiles.length)\r\n    if (val.galleryFiles.length) {\r\n      galleryFormData = new FormData();\r\n      val.galleryFiles.forEach((image) => {\r\n        galleryFormData.append(\"gallery\", image);\r\n      });\r\n    }\r\n\r\n    const isSuccess = await editProduct(\r\n      productToSubmit,\r\n      galleryFormData,\r\n      val._id\r\n    );\r\n\r\n    if (isSuccess) {\r\n      showAlert(\"Товар змінено успішно!\", \"success\");\r\n      resetForm({\r\n        title: \"\",\r\n        desc: \"\",\r\n        gallery: [],\r\n        galleryFiles: [],\r\n        price: \"\",\r\n        article: \"\",\r\n        quantity: 1,\r\n        recommended: false,\r\n        attributesLabels: [],\r\n        attrOptions: [],\r\n        attributes: {},\r\n        vendor: {},\r\n        category: {},\r\n        isPriceChanges: false,\r\n        _id: \"\",\r\n      });\r\n    } else {\r\n      showAlert(\"Сталась помилка!\", \"error\");\r\n    }\r\n\r\n\r\n  },\r\n})(EditProduct);\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    categories: state.products.categories,\r\n    vendors: state.admin.vendors,\r\n    attributes: state.admin.attributes,\r\n    product: state.single.product,\r\n  };\r\n};\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    getCategories: () => dispatch(getCategoriesAction()),\r\n    getVendors: () => dispatch(getVendorsAction()),\r\n    getAttributes: () => dispatch(getAttributesAction()),\r\n    getProduct: (id) => dispatch(getSingleProductAction(id)),\r\n    showAlert: (content, type) => dispatch(showAlertAction(content, type)),\r\n    editProduct: (product, gallery, id) =>\r\n      dispatch(editProductAction(product, gallery, id)),\r\n  };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(formikHOC);\r\n"],"sourceRoot":""}