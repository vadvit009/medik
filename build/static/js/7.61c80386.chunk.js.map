{"version":3,"sources":["assets/arrow-left.svg","misc/GoBackBtn/GoBackBtn.js","misc/GoBackBtn/GoBackBtn.module.css","misc/OrderProductCard/OrderProductCard.js","misc/OrderProductCard/OrderProductCard.module.css","store/actions/orderActions.js","pages/Order/Order.module.css","pages/Order/Order.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","SvgArrowLeft","_ref","svgRef","title","props","viewBox","ref","ForwardRef","forwardRef","GoBackBtn","h","useHistory","className","s","goBack__but","onClick","goBack","module","exports","connect","state","allProductsInCart","cart","all","dispatch","changeNumberInCart","value","id","allProducts","changeNumberInCartAction","removeFromCart","product","removeFromCartAction","gallery","price","_id","desc","numberInCart","productPrice","selectedAttributesId","selectedAttributesPrice","card","main","style","position","to","img","src","require","alt","number__tag","number","main__content","slice","category","fullprice","getCitiesAction","filterValue","filterLimit","a","fetchCities","response","type","SET_CITIES","cities","data","getWarehousesAction","city","fetchWarehousesByCity","SET_WAREHOUSES","warehouses","setSelectedCityAction","SET_SELECTED_CITY","setSelectedWarehouseAction","warehouse","SET_SELECTED_WAREHOUSE","submitOrderAction","order","token","getToken","getAdminToken","SET_LOADING","isLoading","postOrder","status","ADD_HISTORY_ITEM","deliveryOptions","label","payOptions","formikHOC","withFormik","mapPropsToValues","lName","user","fName","phone","deliveryType","paymentType","isSaveUser","selectedWarehouse","selectedCity","handleSubmit","values","cartProducts","patchUser","createOrder","fullPrice","showAlert","setCart","history","resetForm","products","map","attrOptions","quantity","deliveryCity","deliveryHouse","deliveryStreet","deliveryApartament","deliveryWarehouse","sum","userID","orderData","localStorage","removeItem","push","setFullPrice","getCities","getWarehouses","filterCities","setSelectedWarehouse","setSelectedCity","filterWarehouses","handleChange","setValues","breadCrumbsItems","name","path","icon","bread__crumbs","selectHandler","option","useEffect","reduce","acc","container","title__container","items","order__container","products__container","isSmall","subtotal__container","subtotal__title","subtotal__price","submit__container_all","submit__container","submit__title","input__row","inputClass","input","containerClass","input__container","onChange","placeholder","phone__container","phone__input","section","options","onSelect","withSearch","noDefaultValue","onMenuScroll","searchValue","scrollHeight","scrollTop","menuClass","select__menu","Description","onSearchValueChange","actions__container","save__user__container","checked","save__user__checkbox","save__user__desc","submit__btn__container","isDisabled","submit__btn","routerHOC","withRouter","base","profile","addToCart","addToCartAction","setFullPriceAction","limit","patchUserAction","content","showAlertAction"],"mappings":"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","file":"static/js/7.61c80386.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z\"\n});\n\nvar SvgArrowLeft = function SvgArrowLeft(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 448 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowLeft, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-left.b701e66a.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport s from \"./GoBackBtn.module.css\";\nimport { useHistory } from \"react-router-dom\";\nimport { ReactComponent as ArrowLeft } from \"../../assets/arrow-left.svg\";\n\nconst GoBackBtn = (props) => {\n  const h = useHistory();\n  return (\n    <div>\n      <button\n        className={s.goBack__but}\n        onClick={() => {\n          h.goBack();\n        }}\n      >\n        <ArrowLeft className={s.goBack} />\n        Повернутися\n      </button>\n    </div>\n  );\n};\n\nexport default GoBackBtn;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"goBack__but\":\"GoBackBtn_goBack__but__2zr8U\",\"goBack\":\"GoBackBtn_goBack__I9eNM\"};","import React, { useState, useEffect } from \"react\";\nimport s from \"./OrderProductCard.module.css\";\nimport { connect } from \"react-redux\";\nimport {\n  changeNumberInCartAction,\n  removeFromCartAction,\n} from \"../../store/actions/cartActions\";\nimport { Link } from \"react-router-dom\";\n\nconst OrderProductCard = ({\n  product,\n  changeNumberInCart,\n  removeFromCart,\n  allProductsInCart,\n}) => {\n  const {\n    gallery,\n    title,\n    price,\n    _id,\n    desc,\n    numberInCart = 1,\n    selectedAttributesId,\n    selectedAttributesPrice,\n  } = product;\n\n  const productPrice = selectedAttributesPrice || price;\n\n  return (\n    <div className={s.card}>\n      <div className={s.main}>\n        <div style={{ position: \"relative\" }}>\n          <Link to={`/product/${_id}`}>\n            <img\n              className={s.img}\n              src={gallery && gallery[0]|| require(\"../../assets/image-placeholder.webp\")}\n              alt=\"loading\"\n            />\n          </Link>\n          <div className={s.number__tag}>\n            <span className={s.number}>{numberInCart}</span>\n          </div>\n        </div>\n\n        <div className={s.main__content}>\n          <Link to={`/product/${_id}`}>\n            <span className={s.title}>{title.slice(0, 15)}</span>\n          </Link>\n          <p className={s.category}>{desc.slice(0, 20)}</p>\n        </div>\n      </div>\n      <span className={s.fullprice}>{+numberInCart * +productPrice || 0}₴</span>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    allProductsInCart: state.cart.all,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    changeNumberInCart: (value, id, allProducts) =>\n      dispatch(changeNumberInCartAction(value, id, allProducts)),\n    removeFromCart: (product) => dispatch(removeFromCartAction(product)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OrderProductCard);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"OrderProductCard_card__3mVvx\",\"mobile\":\"OrderProductCard_mobile__j4M-k\",\"main\":\"OrderProductCard_main__CJgkd\",\"title\":\"OrderProductCard_title__27G2k\",\"category\":\"OrderProductCard_category__1ffrw\",\"img\":\"OrderProductCard_img__24hU4\",\"price\":\"OrderProductCard_price__2cZ6i\",\"fullprice\":\"OrderProductCard_fullprice__2txF7\",\"remove__icon\":\"OrderProductCard_remove__icon__1C_19\",\"icon_ft\":\"OrderProductCard_icon_ft__1_YRO\",\"number__tag\":\"OrderProductCard_number__tag__33mw5\",\"number\":\"OrderProductCard_number__2k2db\",\"actions__container\":\"OrderProductCard_actions__container__15CUb\",\"price__wrapper\":\"OrderProductCard_price__wrapper__2Xi-d\",\"qty__counter__wrapper\":\"OrderProductCard_qty__counter__wrapper__B3MKm\",\"remove__icon__wrapper\":\"OrderProductCard_remove__icon__wrapper__3p553\",\"fullprice__container\":\"OrderProductCard_fullprice__container__2Lh4B\"};","import { fetchCities, fetchWarehousesByCity, postOrder } from \"../api/api\";\nimport {\n  SET_CITIES,\n  SET_SELECTED_CITY,\n  SET_SELECTED_WAREHOUSE,\n  SET_WAREHOUSES,\n  SET_LOADING, ADD_HISTORY_ITEM,\n} from \"./actionTypes\";\nimport { getAdminToken, getToken } from \"../../utils/utils\";\n\nexport const getCitiesAction = (filterValue, filterLimit) => {\n  return async (dispatch) => {\n    const response = await fetchCities(filterValue, filterLimit);\n    dispatch({\n      type: SET_CITIES,\n      cities: response.data.data,\n    });\n  };\n};\n\nexport const getWarehousesAction = (city) => {\n  return async (dispatch) => {\n    const response = await fetchWarehousesByCity(city);\n    dispatch({\n      type: SET_WAREHOUSES,\n      warehouses: response.data.data,\n    });\n  };\n};\n\nexport const setSelectedCityAction = (city) => {\n  return {\n    type: SET_SELECTED_CITY,\n    city,\n  };\n};\nexport const setSelectedWarehouseAction = (warehouse) => {\n  return {\n    type: SET_SELECTED_WAREHOUSE,\n    warehouse,\n  };\n};\n\nexport const submitOrderAction = (order, type = \"user\") => {\n  return async (dispatch) => {\n    let token = getToken();\n    if (type === \"admin\") {\n      token = getAdminToken();\n    }\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const response = await postOrder(order, token);\n    dispatch({ type: SET_LOADING, isLoading: false });\n    if (response?.status === 200) {\n      dispatch({type: ADD_HISTORY_ITEM, order: response.data})\n    }\n    return response?.status === 200 ? response.data : false;\n  };\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title__container\":\"Order_title__container__2jVos\",\"section\":\"Order_section__1AHVU\",\"title\":\"Order_title__2tfhQ\",\"bread__crumbs\":\"Order_bread__crumbs__22VXZ\",\"order__container\":\"Order_order__container__2VE4I\",\"submit__container\":\"Order_submit__container__7TdUu\",\"submit__title\":\"Order_submit__title__11NrT\",\"submit__container_all\":\"Order_submit__container_all__36go3\",\"price\":\"Order_price__3J-33\",\"status\":\"Order_status__2Bx9E\",\"products__container\":\"Order_products__container__1Gm1-\",\"products__header\":\"Order_products__header__OZmNZ\",\"sort__container\":\"Order_sort__container__3mUEf\",\"actions__container\":\"Order_actions__container__30EzH\",\"goBack__but\":\"Order_goBack__but__2_oiE\",\"goBack\":\"Order_goBack__343u9\",\"submit__btn__container\":\"Order_submit__btn__container__3Bg_K\",\"input__row\":\"Order_input__row__3BIVP\",\"input__container\":\"Order_input__container__2lXP2\",\"phone__container\":\"Order_phone__container__V9C1_\",\"phone__input\":\"Order_phone__input__1Ygow\",\"input\":\"Order_input__nX-MZ\",\"subtotal__container\":\"Order_subtotal__container__2MS55\",\"subtotal__title\":\"Order_subtotal__title__1Rihj\",\"subtotal__price\":\"Order_subtotal__price__2WnIY\",\"save__user__container\":\"Order_save__user__container__1PXiP\",\"save__user__desc\":\"Order_save__user__desc__3m2f_\",\"save__user__checkbox\":\"Order_save__user__checkbox__2E450\",\"liqpay\":\"Order_liqpay__1kVWi\"};","import React, { useEffect } from \"react\";\nimport s from \"./Order.module.css\";\nimport { connect } from \"react-redux\";\nimport FixedWrapper from \"../../wrappers/FixedWrapper/FixedWrapper\";\nimport Select from \"../../misc/Select/Select\";\nimport Button from \"../../misc/Button/Button\";\nimport { Redirect, withRouter } from \"react-router-dom\";\nimport {\n  addToCartAction,\n  removeFromCartAction,\n  setFullPriceAction,\n  setCart,\n} from \"../../store/actions/cartActions\";\nimport BreadCrumbs from \"../../misc/BreadCrumbs/BreadCrumbs\";\nimport { withFormik } from \"formik\";\nimport Input from \"../../misc/Inputs/Input/Input\";\nimport {\n  getCitiesAction,\n  getWarehousesAction,\n  setSelectedCityAction,\n  setSelectedWarehouseAction,\n  submitOrderAction,\n} from \"../../store/actions/orderActions\";\nimport OrderProductCard from \"../../misc/OrderProductCard/OrderProductCard\";\nimport { patchUserAction } from \"../../store/actions/profileActions\";\nimport { showAlertAction } from \"../../store/actions/alertActions\";\nimport GoBackBtn from \"../../misc/GoBackBtn/GoBackBtn\";\nimport { ReactComponent as ShoppingCart } from \"../../assets/shopping-cart.svg\";\nimport PhoneNumberInput from \"../../misc/Inputs/PhoneNumberInput/PhoneNumberInput\";\nimport { LiqPayPay } from \"react-liqpay\";\n\nconst deliveryOptions = [\n  { value: \"self-pickup\", label: \"Самовивіз\" },\n  { value: \"NovaPoshta\", label: \"Нова пошта\" },\n];\n\nconst payOptions = [\n  { value: \"cash\", label: \"Наложений платіж\" },\n  { value: \"card\", label: \"Картою (LiqPay)\" },\n];\n\nconst CreateOrder = ({\n  cartProducts,\n  fullPrice,\n  setFullPrice,\n  getCities,\n  getWarehouses,\n  cities,\n  filterCities,\n  setSelectedWarehouse,\n  setSelectedCity,\n  warehouses,\n  filterWarehouses,\n  user,\n  handleChange,\n  values,\n  setValues,\n  handleSubmit,\n  isLoading,\n}) => {\n  const breadCrumbsItems = [\n    {\n      name: \"Кошик\",\n      path: \"/cart\",\n      icon: <ShoppingCart className={s.bread__crumbs} />,\n    },\n    { name: \"Замовлення\", path: \"/order\" },\n  ];\n\n  const switchSaveUser = () => {\n    setValues({ ...values, isSaveUser: !values.isSaveUser });\n  };\n\n  const selectHandler = (option, type) => {\n    setValues({ ...values, [type]: option });\n  };\n\n  const onCitiesScroll = ({ target }, searchValue) => {\n    if (\n      target.scrollHeight - target.scrollTop < 400 &&\n      cities.length % 20 === 0\n    ) {\n      filterCities(searchValue, cities.length + 20);\n    }\n  };\n\n  const onCitySearchChange = (value) => {\n    if (cities.length === 1 && value === cities[0].Description) {\n      setValues({ ...values, selectedCity: value });\n      getWarehouses(value);\n    }\n    filterCities(value);\n  };\n\n  const onCitySelect = (option) => {\n    setValues({ ...values, selectedCity: option.label });\n    getWarehouses(option.label);\n  };\n\n  const onWarehousesScroll = ({ target }, searchValue) => {\n    if (\n      target.scrollHeight - target.scrollTop < 400 &&\n      warehouses.length % 20 === 0\n    ) {\n      filterWarehouses(searchValue, warehouses.length + 20);\n    }\n  };\n\n  const onWarehouseSelect = (option) => {\n    setValues({ ...values, selectedWarehouse: option.value });\n  };\n\n  useEffect(() => {\n    setFullPrice(\n      cartProducts.reduce(\n        (acc, { price, numberInCart = 1, selectedAttributesPrice }) => {\n          const productPrice = +selectedAttributesPrice || price;\n          return acc + productPrice * numberInCart;\n        },\n        0\n      )\n    );\n  }, [cartProducts]);\n\n  useEffect(() => {\n    getCities();\n  }, []);\n\n  useEffect(() => {\n    setValues({\n      ...values,\n      fName: user.fName,\n      lName: user.lName,\n      phone: user.phone,\n    });\n  }, [user]);\n  return !cartProducts.length && !isLoading ? (\n    <Redirect to=\"/\" />\n  ) : (\n    <div className={s.container}>\n      <div className={s.title__container}>\n        <h4 className={s.title}>Замовлення</h4>\n        <BreadCrumbs items={breadCrumbsItems} />\n      </div>\n      <FixedWrapper>\n        <div className={s.order__container}>\n          <div className={s.products__container}>\n            {cartProducts.map((product) => (\n              <OrderProductCard isSmall {...{ product }} key={product._id} />\n            ))}\n            <div className={s.subtotal__container}>\n              <div className={s.subtotal__title}>Ціна:</div>\n              <div className={s.subtotal__price}>{fullPrice}₴</div>\n            </div>\n          </div>\n          <div className={s.submit__container_all}>\n            <div className={s.submit__container}>\n              <h2 className={s.submit__title}>Оформити замовлення</h2>\n              <div className={s.input__row}>\n                <Input\n                  name=\"fName\"\n                  inputClass={s.input}\n                  containerClass={s.input__container}\n                  value={values.fName}\n                  onChange={handleChange}\n                  label=\"Ім'я\"\n                  placeholder=\"John\"\n                />\n                <Input\n                  placeholder=\"Doe\"\n                  name=\"lName\"\n                  inputClass={s.input}\n                  containerClass={s.input__container}\n                  value={values.lName}\n                  onChange={handleChange}\n                  label=\"Прізвище\"\n                />\n              </div>\n              <div className={s.phone__container}>\n                <PhoneNumberInput\n                  name=\"phone\"\n                  value={values.phone}\n                  onChange={handleChange}\n                  className={s.phone__input}\n                  label=\"Номер телефону\"\n                />\n              </div>\n              <Select\n                containerClass={s.section}\n                options={payOptions}\n                onSelect={(option) => selectHandler(option, \"paymentType\")}\n                label=\"Тип оплати\"\n                value={values.paymentType.label}\n              />\n              <Select\n                containerClass={s.section}\n                options={deliveryOptions}\n                onSelect={(option) => selectHandler(option, \"deliveryType\")}\n                label=\"Тип доставки\"\n                value={values.deliveryType.label}\n              />\n              {values.deliveryType.value !== \"self-pickup\" && (\n                <Select\n                  containerClass={s.section}\n                  withSearch\n                  noDefaultValue\n                  onMenuScroll={onCitiesScroll}\n                  menuClass={s.select__menu}\n                  options={cities.map((city) => ({\n                    value: city.Description,\n                    label: city.Description,\n                  }))}\n                  onSelect={onCitySelect}\n                  onSearchValueChange={onCitySearchChange}\n                  label=\"Місто\"\n                />\n              )}\n              {values.deliveryType.value !== \"self-pickup\" && (\n                <Select\n                  containerClass={s.section}\n                  withSearch\n                  noDefaultValue\n                  onMenuScroll={onWarehousesScroll}\n                  menuClass={s.select__menu}\n                  options={warehouses.map((warehouse) => ({\n                    value: warehouse.Description,\n                    label: warehouse.Description,\n                  }))}\n                  onSelect={onWarehouseSelect}\n                  label=\"Номер відділення\"\n                />\n              )}\n\n              <div className={s.actions__container}>\n                <div className={s.save__user__container}>\n                  <input\n                    type=\"checkbox\"\n                    name=\"isSaveUser\"\n                    onChange={handleChange}\n                    checked={values.isSaveUser}\n                    className={s.save__user__checkbox}\n                  />\n                  <p className={s.save__user__desc} onClick={switchSaveUser}>\n                    Оновити мій профіль\n                  </p>\n                </div>\n                <div className={s.submit__btn__container}>\n                  {/*<LiqPayPay*/}\n                  {/*    publicKey=\"sandbox_i7961872980\"*/}\n                  {/*    privateKey=\"sandbox_igIHtRIrF2IT63rResIB5zLosOTjJvEGEnI419Y8\"*/}\n                  {/*    amount={`${fullPrice}`}*/}\n                  {/*    description=\"Оплата замовлення\"*/}\n                  {/*    currency=\"UAH\"*/}\n                  {/*    orderId={\"\"}*/}\n                  {/*    product_description=\"Оплата замовлення\"*/}\n                  {/*    style={{ margin: \"8px\" }}*/}\n                  {/*    extra={[<Button title={`Оплатити ${fullPrice} грн. (LiquidPay)`} />]}*/}\n                  {/*/>*/}\n                  <Button\n                    title=\"Підтвердити замовлення\"\n                    onClick={handleSubmit}\n                    isDisabled={\n                      // !user._id ||\n                      !values.fName || !values.lName || !values.phone\n                    }\n                    className={s.submit__btn}\n                  />\n                </div>\n                <GoBackBtn />\n              </div>\n            </div>\n          </div>\n        </div>\n      </FixedWrapper>\n    </div>\n  );\n};\n\nconst formikHOC = withFormik({\n  mapPropsToValues: (props) => ({\n    lName: props.user.fName,\n    fName: props.user.lName,\n    phone: props.user.phone,\n    deliveryType: deliveryOptions[0],\n    paymentType: payOptions[0],\n    isSaveUser: false,\n    selectedWarehouse: \"\",\n    selectedCity: \"\",\n  }),\n  handleSubmit: async (\n    values,\n    {\n      props: {\n        cartProducts,\n        patchUser,\n        user,\n        createOrder,\n        fullPrice,\n        showAlert,\n        setCart,\n        history,\n      },\n      resetForm,\n    }\n  ) => {\n    const products = cartProducts.map(\n      ({ selectedAttributesId, _id, quantity }) => ({\n        attrOptions: selectedAttributesId,\n        id: _id,\n        quantity,\n      })\n    );\n    if (values.isSaveUser) {\n      patchUser({\n        ...user,\n        fName: values.fName,\n        lName: values.lName,\n        phone: +values.phone,\n      });\n    }\n\n    const orderData = await createOrder({\n      products,\n      phone: +values.phone,\n      deliveryCity: values.selectedCity || \"Самовивіз\",\n      deliveryHouse: null,\n      deliveryStreet: null,\n      deliveryApartament: null,\n      deliveryWarehouse: values.selectedWarehouse,\n      paymentType: values.paymentType.value,\n      sum: fullPrice,\n      userID: user._id || null,\n      status:\n        values.paymentType.value === \"card\" ? \"waitForPayment\" : \"created\",\n    });\n    if (orderData) {\n      showAlert(\"Замовлення створено успішно!\", \"success\");\n\n      setCart([]);\n      localStorage.removeItem(\"_cart\");\n      resetForm({\n        lName: \"\",\n        fName: \"\",\n        phone: \"\",\n        deliveryType: deliveryOptions[0],\n        paymentType: payOptions[0],\n        isSaveUser: false,\n      });\n      if (values.paymentType.value === \"card\") {\n        history.push(`/order/payment/${orderData._id}/${orderData.sum}`);\n      }\n    } else {\n      showAlert(\"Сталась помилка при створенні замовлення.\");\n    }\n  },\n})(CreateOrder);\n\nconst routerHOC = withRouter(formikHOC);\n\nconst mapStateToProps = (state) => {\n  return {\n    cartProducts: state.cart.all,\n    fullPrice: state.cart.fullPrice,\n    cities: state.order.cities,\n    warehouses: state.order.warehouses,\n    isLoading: state.base.isLoading,\n    user: state.profile,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    addToCart: (product) => dispatch(addToCartAction(product)),\n    removeFromCart: (product) => dispatch(removeFromCartAction(product)),\n    setFullPrice: (fullPrice) => dispatch(setFullPriceAction(fullPrice)),\n    getCities: () => dispatch(getCitiesAction()),\n    filterCities: (filterValue, limit) =>\n      dispatch(getCitiesAction(filterValue, limit)),\n    getWarehouses: (city) => dispatch(getWarehousesAction(city)),\n    filterWarehouses: (filterValue) =>\n      dispatch(getWarehousesAction(filterValue)),\n    setSelectedCity: (city) => dispatch(setSelectedCityAction(city)),\n    setSelectedWarehouse: (warehouse) =>\n      dispatch(setSelectedWarehouseAction(warehouse)),\n    patchUser: (user, token) => dispatch(patchUserAction(user, token)),\n    createOrder: (order) => dispatch(submitOrderAction(order)),\n    showAlert: (content, type) => dispatch(showAlertAction(content, type)),\n    setCart: (cart) => dispatch(setCart(cart)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(routerHOC);\n"],"sourceRoot":""}