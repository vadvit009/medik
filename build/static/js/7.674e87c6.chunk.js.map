{"version":3,"sources":["assets/arrow-left.svg","misc/GoBackBtn/GoBackBtn.js","misc/GoBackBtn/GoBackBtn.module.css","misc/OrderProductCard/OrderProductCard.js","misc/OrderProductCard/OrderProductCard.module.css","store/actions/orderActions.js","pages/Order/Order.module.css","pages/Order/Order.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","d","SvgArrowLeft","_ref","svgRef","title","props","viewBox","ref","ForwardRef","forwardRef","GoBackBtn","h","useHistory","className","s","goBack__but","onClick","goBack","module","exports","connect","state","allProductsInCart","cart","all","dispatch","changeNumberInCart","value","id","allProducts","changeNumberInCartAction","removeFromCart","product","removeFromCartAction","gallery","price","_id","desc","numberInCart","productPrice","selectedAttributesId","selectedAttributesPrice","card","main","style","position","to","img","src","require","alt","number__tag","number","main__content","slice","category","fullprice","getCitiesAction","filterValue","filterLimit","a","fetchCities","response","type","SET_CITIES","cities","data","getWarehousesAction","city","fetchWarehousesByCity","SET_WAREHOUSES","warehouses","setSelectedCityAction","SET_SELECTED_CITY","setSelectedWarehouseAction","warehouse","SET_SELECTED_WAREHOUSE","submitOrderAction","order","token","getToken","getAdminToken","SET_LOADING","isLoading","postOrder","status","ADD_HISTORY_ITEM","deliveryOptions","label","payOptions","formikHOC","withFormik","mapPropsToValues","lName","user","fName","phone","deliveryType","paymentType","isSaveUser","selectedWarehouse","selectedCity","handleSubmit","values","cartProducts","patchUser","createOrder","fullPrice","showAlert","setCart","history","resetForm","products","map","attrOptions","quantity","Number","isNaN","startsWith","deliveryCity","deliveryHouse","deliveryStreet","deliveryApartament","deliveryWarehouse","sum","userID","orderData","console","log","localStorage","removeItem","push","setFullPrice","getCities","getWarehouses","filterCities","setSelectedWarehouse","setSelectedCity","filterWarehouses","handleChange","setValues","breadCrumbsItems","name","path","icon","bread__crumbs","selectHandler","option","useEffect","reduce","acc","container","title__container","items","order__container","products__container","isSmall","subtotal__container","subtotal__title","subtotal__price","submit__container_all","submit__container","submit__title","input__row","inputClass","input","containerClass","input__container","onChange","placeholder","phone__container","phone__input","section","options","onSelect","withSearch","noDefaultValue","onMenuScroll","searchValue","scrollHeight","scrollTop","menuClass","select__menu","Description","onSearchValueChange","actions__container","save__user__container","checked","save__user__checkbox","save__user__desc","submit__btn__container","isDisabled","submit__btn","routerHOC","withRouter","base","profile","addToCart","addToCartAction","setFullPriceAction","limit","patchUserAction","content","showAlertAction"],"mappings":"oGAAA,+DAASA,IAA2Q,OAA9PA,EAAWC,OAAOC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAcN,OAAOQ,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAASS,EAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAaf,OAAOgB,KAAKV,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASG,QAAQV,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxMgB,CAA8BZ,EAAQQ,GAAuB,GAAId,OAAOmB,sBAAuB,CAAE,IAAIC,EAAmBpB,OAAOmB,sBAAsBb,GAAS,IAAKH,EAAI,EAAGA,EAAIiB,EAAiBf,OAAQF,IAAOI,EAAMa,EAAiBjB,GAAQW,EAASG,QAAQV,IAAQ,GAAkBP,OAAOQ,UAAUa,qBAAqBX,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAIoB,EAAqB,IAAMC,cAAc,OAAQ,CACnDC,EAAG,6PAGDC,EAAe,SAAsBC,GACvC,IAAIC,EAASD,EAAKC,OACdC,EAAQF,EAAKE,MACbC,EAAQhB,EAAyBa,EAAM,CAAC,SAAU,UAEtD,OAAoB,IAAMH,cAAc,MAAOxB,EAAS,CACtD+B,QAAS,cACTC,IAAKJ,GACJE,GAAQD,EAAqB,IAAML,cAAc,QAAS,KAAMK,GAAS,KAAMN,IAGhFU,EAA0B,IAAMC,YAAW,SAAUJ,EAAOE,GAC9D,OAAoB,IAAMR,cAAcE,EAAc1B,EAAS,CAC7D4B,OAAQI,GACPF,OAEU,K,iCC5Bf,uDAsBeK,IAjBG,SAACL,GACjB,IAAMM,EAAIC,cACV,OACE,6BACE,4BACEC,UAAWC,IAAEC,YACbC,QAAS,WACPL,EAAEM,WAGJ,kBAAC,IAAD,CAAWJ,UAAWC,IAAEG,SAN1B,yE,oBCRNC,EAAOC,QAAU,CAAC,YAAc,+BAA+B,OAAS,4B,iCCDxE,6DAqEeC,iBAbS,SAACC,GACvB,MAAO,CACLC,kBAAmBD,EAAME,KAAKC,QAGP,SAACC,GAC1B,MAAO,CACLC,mBAAoB,SAACC,EAAOC,EAAIC,GAAZ,OAClBJ,EAASK,YAAyBH,EAAOC,EAAIC,KAC/CE,eAAgB,SAACC,GAAD,OAAaP,EAASQ,YAAqBD,QAIhDZ,EA5DU,SAAC,GAKnB,IAJLY,EAII,EAJJA,QAMEE,GAFE,EAHJR,mBAGI,EAFJK,eAEI,EADJT,kBAWIU,EARFE,SACA9B,EAOE4B,EAPF5B,MACA+B,EAMEH,EANFG,MACAC,EAKEJ,EALFI,IACAC,EAIEL,EAJFK,KANE,EAUAL,EAHFM,oBAPE,MAOa,EAPb,EAYEC,GAFFP,EAFFQ,qBAEER,EADFS,yBAG8CN,GAEhD,OACE,yBAAKtB,UAAWC,IAAE4B,MAChB,yBAAK7B,UAAWC,IAAE6B,MAChB,yBAAKC,MAAO,CAAEC,SAAU,aACtB,kBAAC,IAAD,CAAMC,GAAE,mBAAcV,IACpB,yBACEvB,UAAWC,IAAEiC,IACbC,IAAKd,GAAWA,EAAQ,IAAKe,EAAQ,KACrCC,IAAI,aAGR,yBAAKrC,UAAWC,IAAEqC,aAChB,0BAAMtC,UAAWC,IAAEsC,QAASd,KAIhC,yBAAKzB,UAAWC,IAAEuC,eAChB,kBAAC,IAAD,CAAMP,GAAE,mBAAcV,IACpB,0BAAMvB,UAAWC,IAAEV,OAAQA,EAAMkD,MAAM,EAAG,MAE5C,uBAAGzC,UAAWC,IAAEyC,UAAWlB,EAAKiB,MAAM,EAAG,OAG7C,0BAAMzC,UAAWC,IAAE0C,YAAalB,GAAgBC,GAAgB,EAAhE,e,oBClDNrB,EAAOC,QAAU,CAAC,KAAO,+BAA+B,OAAS,iCAAiC,KAAO,+BAA+B,MAAQ,gCAAgC,SAAW,mCAAmC,IAAM,8BAA8B,MAAQ,gCAAgC,UAAY,oCAAoC,aAAe,uCAAuC,QAAU,kCAAkC,YAAc,sCAAsC,OAAS,iCAAiC,mBAAqB,6CAA6C,eAAiB,yCAAyC,sBAAwB,gDAAgD,sBAAwB,gDAAgD,qBAAuB,iD,6PCShzBsC,EAAkB,SAACC,EAAaC,GAC3C,8CAAO,WAAOlC,GAAP,eAAAmC,EAAA,sEACkBC,YAAYH,EAAaC,GAD3C,OACCG,EADD,OAELrC,EAAS,CACPsC,KAAMC,IACNC,OAAQH,EAASI,KAAKA,OAJnB,2CAAP,uDASWC,EAAsB,SAACC,GAClC,8CAAO,WAAO3C,GAAP,eAAAmC,EAAA,sEACkBS,YAAsBD,GADxC,OACCN,EADD,OAELrC,EAAS,CACPsC,KAAMO,IACNC,WAAYT,EAASI,KAAKA,OAJvB,2CAAP,uDASWM,EAAwB,SAACJ,GACpC,MAAO,CACLL,KAAMU,IACNL,SAGSM,EAA6B,SAACC,GACzC,MAAO,CACLZ,KAAMa,IACND,cAISE,EAAoB,SAACC,GAA0B,IAAnBf,EAAkB,uDAAX,OAC9C,8CAAO,WAAOtC,GAAP,iBAAAmC,EAAA,6DACDmB,EAAQC,cACC,UAATjB,IACFgB,EAAQE,eAEVxD,EAAS,CAAEsC,KAAMmB,IAAaC,WAAW,IALpC,SAMkBC,YAAUN,EAAOC,GANnC,cAMCjB,EAND,OAOLrC,EAAS,CAAEsC,KAAMmB,IAAaC,WAAW,IAChB,OAAb,OAARrB,QAAQ,IAARA,OAAA,EAAAA,EAAUuB,SACZ5D,EAAS,CAACsC,KAAMuB,IAAkBR,MAAOhB,EAASI,OAT/C,kBAWuB,OAAb,OAARJ,QAAQ,IAARA,OAAA,EAAAA,EAAUuB,SAAiBvB,EAASI,MAXtC,2CAAP,wD,oBC3CFhD,EAAOC,QAAU,CAAC,iBAAmB,gCAAgC,QAAU,uBAAuB,MAAQ,qBAAqB,cAAgB,6BAA6B,iBAAmB,gCAAgC,kBAAoB,iCAAiC,cAAgB,6BAA6B,sBAAwB,qCAAqC,MAAQ,qBAAqB,OAAS,sBAAsB,oBAAsB,mCAAmC,iBAAmB,gCAAgC,gBAAkB,+BAA+B,mBAAqB,kCAAkC,YAAc,2BAA2B,OAAS,sBAAsB,uBAAyB,sCAAsC,WAAa,0BAA0B,iBAAmB,gCAAgC,iBAAmB,gCAAgC,aAAe,4BAA4B,MAAQ,qBAAqB,oBAAsB,mCAAmC,gBAAkB,+BAA+B,gBAAkB,+BAA+B,sBAAwB,qCAAqC,iBAAmB,gCAAgC,qBAAuB,oCAAoC,OAAS,wB,0PC8BvzCoE,G,OAAkB,CACpB,CAAC5D,MAAO,cAAe6D,MAAO,0DAC9B,CAAC7D,MAAO,aAAc6D,MAAO,6DAG3BC,EAAa,CACf,CAAC9D,MAAO,OAAQ6D,MAAO,+FACvB,CAAC7D,MAAO,OAAQ6D,MAAO,kDA8OrBE,EAAYC,YAAW,CACzBC,iBAAkB,SAACvF,GAAD,MAAY,CAC1BwF,MAAOxF,EAAMyF,KAAKC,MAClBA,MAAO1F,EAAMyF,KAAKD,MAClBG,MAAO3F,EAAMyF,KAAKE,MAClBC,aAAcV,EAAgB,GAC9BW,YAAaT,EAAW,GACxBU,YAAY,EACZC,kBAAmB,GACnBC,aAAc,KAElBC,aAAa,WAAD,4BAAE,WACVC,EADU,0CAAA3C,EAAA,iEAGNvD,MACImG,EAJE,EAIFA,aACAC,EALE,EAKFA,UACAX,EANE,EAMFA,KACAY,EAPE,EAOFA,YACAC,EARE,EAQFA,UACAC,EATE,EASFA,UACAC,EAVE,EAUFA,QACAC,EAXE,EAWFA,QAEJC,EAbM,EAaNA,UAGEC,EAAWR,EAAaS,KAC1B,kBAA4C,CACxCC,YADJ,EAAE1E,qBAEEZ,GAFJ,EAAwBQ,IAGpB+E,SAHJ,EAA6BA,aAMdZ,EAAOP,MACtBO,EAAOP,QAAUoB,OAAOC,MAAMd,EAAOP,UACrC,UAAIO,EAAOP,aAAX,aAAI,EAAcsB,WAAW,OACT,KAAD,OAAMf,EAAOP,QAEZO,EAAOP,OAG3BO,EAAOJ,YACPM,EAAU,2BACHX,GADE,IAELC,MAAOQ,EAAOR,MACdF,MAAOU,EAAOV,MACdG,MAAOO,EAAOP,SApCZ,SAwCcU,EAAY,CAChCM,WACAhB,MAAOO,EAAOP,MACduB,aAAchB,EAAOF,aACrBmB,cAAe,KACfC,eAAgB,KAChBC,mBAAoB,KACpBC,kBAAmBpB,EAAOH,kBAC1BF,YAAaK,EAAOL,YAAYvE,MAChCiG,IAAKjB,EACLkB,OAAQ/B,EAAK1D,KAAO,KACpBiD,OAAqC,SAA7BkB,EAAOL,YAAYvE,MAAmB,iBAAmB,YAnD3D,QAwCJmG,EAxCI,SAsDNC,QAAQC,IAAI,iBAAkBF,GAC9BlB,EAAU,4JAAgC,WAE1CC,EAAQ,IACRoB,aAAaC,WAAW,SACxBnB,EAAU,CACNlB,MAAO,GACPE,MAAO,GACPC,MAAO,GACPC,aAAcV,EAAgB,GAC9BW,YAAaT,EAAW,GACxBU,YAAY,IAEiB,SAA7BI,EAAOL,YAAYvE,OACnBmF,EAAQqB,KAAR,yBAA+BL,EAAU1F,IAAzC,YAAgD0F,EAAUF,OAG9DhB,EAAU,iOAvEJ,2CAAF,qDAAC,IAXCjB,EA3OE,SAAC,GAkBO,IAjBHa,EAiBE,EAjBFA,aACAG,EAgBE,EAhBFA,UACAyB,EAeE,EAfFA,aACAC,EAcE,EAdFA,UACAC,EAaE,EAbFA,cACArE,EAYE,EAZFA,OACAsE,EAWE,EAXFA,aAGAhE,GAQE,EAVFiE,qBAUE,EATFC,gBASE,EARFlE,YACAmE,EAOE,EAPFA,iBACA5C,EAME,EANFA,KACA6C,EAKE,EALFA,aACApC,EAIE,EAJFA,OACAqC,EAGE,EAHFA,UACAtC,EAEE,EAFFA,aACAnB,EACE,EADFA,UAEf0D,EAAmB,CACrB,CACIC,KAAM,iCACNC,KAAM,QACNC,KAAM,kBAAC,IAAD,CAAcnI,UAAWC,IAAEmI,iBAErC,CAACH,KAAM,+DAAcC,KAAM,WAOzBG,EAAgB,SAACC,EAAQpF,GAC3B6E,EAAU,2BAAIrC,GAAL,kBAAcxC,EAAOoF,MA8DlC,OAxBAC,qBAAU,WACNhB,EACI5B,EAAa6C,QACT,SAACC,EAAD,GAA8D,IAAvDnH,EAAsD,EAAtDA,MAAsD,IAA/CG,oBAA+C,MAAhC,EAAgC,EAEzD,OAAOgH,IAFkD,EAA7B7G,yBACqBN,GACrBG,IAEhC,MAGT,CAACkE,IAEJ4C,qBAAU,WACNf,MACD,IAEHe,qBAAU,WACNR,EAAU,2BACHrC,GADE,IAELR,MAAOD,EAAKC,MACZF,MAAOC,EAAKD,MACZG,MAAOF,EAAKE,WAEjB,CAACF,IACIU,EAAa3H,QAAWsG,EAG5B,yBAAKtE,UAAWC,IAAEyI,WACd,yBAAK1I,UAAWC,IAAE0I,kBACd,wBAAI3I,UAAWC,IAAEV,OAAjB,gEACA,kBAAC,IAAD,CAAaqJ,MAAOZ,KAExB,kBAAC,IAAD,KACI,yBAAKhI,UAAWC,IAAE4I,kBACd,yBAAK7I,UAAWC,IAAE6I,qBACbnD,EAAaS,KAAI,SAACjF,GAAD,OACd,kBAAC,IAAD,eAAkB4H,SAAO,GAAK,CAAC5H,WAA/B,CAAyCjD,IAAKiD,EAAQI,UAE1D,yBAAKvB,UAAWC,IAAE+I,qBACd,yBAAKhJ,UAAWC,IAAEgJ,iBAAlB,6BACA,yBAAKjJ,UAAWC,IAAEiJ,iBAAkBpD,EAApC,YAGR,yBAAK9F,UAAWC,IAAEkJ,uBACd,yBAAKnJ,UAAWC,IAAEmJ,mBACd,wBAAIpJ,UAAWC,IAAEoJ,eAAjB,iHACA,yBAAKrJ,UAAWC,IAAEqJ,YACd,kBAAC,IAAD,CACIrB,KAAK,QACLsB,WAAYtJ,IAAEuJ,MACdC,eAAgBxJ,IAAEyJ,iBAClB5I,MAAO4E,EAAOR,MACdyE,SAAU7B,EACVnD,MAAM,sBACNiF,YAAY,SAEhB,kBAAC,IAAD,CACIA,YAAY,MACZ3B,KAAK,QACLsB,WAAYtJ,IAAEuJ,MACdC,eAAgBxJ,IAAEyJ,iBAClB5I,MAAO4E,EAAOV,MACd2E,SAAU7B,EACVnD,MAAM,sDAGd,yBAAK3E,UAAWC,IAAE4J,kBACd,kBAAC,IAAD,CACI5B,KAAK,QACLnH,MAAO4E,EAAOP,MACdwE,SAAU7B,EACV9H,UAAWC,IAAE6J,aACbnF,MAAM,qFAGd,kBAAC,IAAD,CACI8E,eAAgBxJ,IAAE8J,QAClBC,QAASpF,EACTqF,SAAU,SAAC3B,GAAD,OAAYD,EAAcC,EAAQ,gBAC5C3D,MAAM,0DACN7D,MAAO4E,EAAOL,YAAYV,QAE9B,kBAAC,IAAD,CACI8E,eAAgBxJ,IAAE8J,QAClBC,QAAStF,EACTuF,SAAU,SAAC3B,GAAD,OAAYD,EAAcC,EAAQ,iBAC5C3D,MAAM,sEACN7D,MAAO4E,EAAON,aAAaT,QAE/B,kBAAC,IAAD,CACI8E,eAAgBxJ,IAAE8J,QAClBG,YAAU,EACVC,gBAAc,EACdC,aAhIL,SAAC,EAAUC,GAAiB,IAA1BxM,EAAyB,EAAzBA,OAEjBA,EAAOyM,aAAezM,EAAO0M,UAAY,KACzCnH,EAAOpF,OAAS,KAAO,GAEvB0J,EAAa2C,EAAajH,EAAOpF,OAAS,KA4HtBwM,UAAWvK,IAAEwK,aACbT,QAAS5G,EAAOgD,KAAI,SAAC7C,GAAD,MAAW,CAC3BzC,MAAOyC,EAAKmH,YACZ/F,MAAOpB,EAAKmH,gBAEhBT,SArHP,SAAC3B,GAClBP,EAAU,2BAAIrC,GAAL,IAAaF,aAAc8C,EAAO3D,SAC3C8C,EAAca,EAAO3D,QAoHGgG,oBA9HD,SAAC7J,GACF,IAAlBsC,EAAOpF,QAAgB8C,IAAUsC,EAAO,GAAGsH,cAC3C3C,EAAU,2BAAIrC,GAAL,IAAaF,aAAc1E,KACpC2G,EAAc3G,IAElB4G,EAAa5G,IA0HW6D,MAAM,mCAEV,kBAAC,IAAD,CACI8E,eAAgBxJ,IAAE8J,QAClBG,YAAU,EACVC,gBAAc,EACdC,aAxHD,SAAC,EAAUC,GAAiB,IAA1BxM,EAAyB,EAAzBA,OAErBA,EAAOyM,aAAezM,EAAO0M,UAAY,KACzC7G,EAAW1F,OAAS,KAAO,GAE3B6J,EAAiBwC,EAAa3G,EAAW1F,OAAS,KAoH9BwM,UAAWvK,IAAEwK,aACbT,QAAStG,EAAW0C,KAAI,SAACtC,GAAD,MAAgB,CACpChD,MAAOgD,EAAU4G,YACjB/F,MAAOb,EAAU4G,gBAErBT,SArHF,SAAC3B,GACvBP,EAAU,2BAAIrC,GAAL,IAAaH,kBAAmB+C,EAAOxH,UAqHxB6D,MAAM,gGAGV,yBAAK3E,UAAWC,IAAE2K,oBACd,yBAAK5K,UAAWC,IAAE4K,uBACd,2BACI3H,KAAK,WACL+E,KAAK,aACL0B,SAAU7B,EACVgD,QAASpF,EAAOJ,WAChBtF,UAAWC,IAAE8K,uBAEjB,uBAAG/K,UAAWC,IAAE+K,iBAAkB7K,QAzK3C,WACnB4H,EAAU,2BAAIrC,GAAL,IAAaJ,YAAaI,EAAOJ,gBAwKd,6GAIJ,yBAAKtF,UAAWC,IAAEgL,wBAYd,kBAAC,IAAD,CACI1L,MAAM,kIACNY,QAASsF,EACTyF,YAEKxF,EAAOR,QACPQ,EAAOV,QACPU,EAAOP,MAEZnF,UAAWC,IAAEkL,eAGrB,kBAAC,IAAD,YAjIxB,kBAAC,IAAD,CAAUlJ,GAAG,SAkOfmJ,EAAYC,YAAWxG,GAiCdtE,uBA/BS,SAACC,GACrB,MAAO,CACHmF,aAAcnF,EAAME,KAAKC,IACzBmF,UAAWtF,EAAME,KAAKoF,UACtB1C,OAAQ5C,EAAMyD,MAAMb,OACpBM,WAAYlD,EAAMyD,MAAMP,WACxBY,UAAW9D,EAAM8K,KAAKhH,UACtBW,KAAMzE,EAAM+K,YAGO,SAAC3K,GACxB,MAAO,CACH4K,UAAW,SAACrK,GAAD,OAAaP,EAAS6K,YAAgBtK,KACjDD,eAAgB,SAACC,GAAD,OAAaP,EAASQ,YAAqBD,KAC3DoG,aAAc,SAACzB,GAAD,OAAelF,EAAS8K,YAAmB5F,KACzD0B,UAAW,kBAAM5G,EAASgC,gBAC1B8E,aAAc,SAAC7E,EAAa8I,GAAd,OACV/K,EAASgC,YAAgBC,EAAa8I,KAC1ClE,cAAe,SAAClE,GAAD,OAAU3C,EAAS0C,YAAoBC,KACtDsE,iBAAkB,SAAChF,GAAD,OACdjC,EAAS0C,YAAoBT,KACjC+E,gBAAiB,SAACrE,GAAD,OAAU3C,EAAS+C,YAAsBJ,KAC1DoE,qBAAsB,SAAC7D,GAAD,OAClBlD,EAASiD,YAA2BC,KACxC8B,UAAW,SAACX,EAAMf,GAAP,OAAiBtD,EAASgL,YAAgB3G,EAAMf,KAC3D2B,YAAa,SAAC5B,GAAD,OAAWrD,EAASoD,YAAkBC,KACnD8B,UAAW,SAAC8F,EAAS3I,GAAV,OAAmBtC,EAASkL,YAAgBD,EAAS3I,KAChE8C,QAAS,SAACtF,GAAD,OAAUE,EAASoF,YAAQtF,QAI7BH,CAA6C6K","file":"static/js/7.674e87c6.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z\"\n});\n\nvar SvgArrowLeft = function SvgArrowLeft(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 448 512\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2);\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgArrowLeft, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/arrow-left.b701e66a.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport s from \"./GoBackBtn.module.css\";\nimport { useHistory } from \"react-router-dom\";\nimport { ReactComponent as ArrowLeft } from \"../../assets/arrow-left.svg\";\n\nconst GoBackBtn = (props) => {\n  const h = useHistory();\n  return (\n    <div>\n      <button\n        className={s.goBack__but}\n        onClick={() => {\n          h.goBack();\n        }}\n      >\n        <ArrowLeft className={s.goBack} />\n        Повернутися\n      </button>\n    </div>\n  );\n};\n\nexport default GoBackBtn;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"goBack__but\":\"GoBackBtn_goBack__but__2zr8U\",\"goBack\":\"GoBackBtn_goBack__I9eNM\"};","import React, { useState, useEffect } from \"react\";\nimport s from \"./OrderProductCard.module.css\";\nimport { connect } from \"react-redux\";\nimport {\n  changeNumberInCartAction,\n  removeFromCartAction,\n} from \"../../store/actions/cartActions\";\nimport { Link } from \"react-router-dom\";\n\nconst OrderProductCard = ({\n  product,\n  changeNumberInCart,\n  removeFromCart,\n  allProductsInCart,\n}) => {\n  const {\n    gallery,\n    title,\n    price,\n    _id,\n    desc,\n    numberInCart = 1,\n    selectedAttributesId,\n    selectedAttributesPrice,\n  } = product;\n\n  const productPrice = selectedAttributesPrice || price;\n\n  return (\n    <div className={s.card}>\n      <div className={s.main}>\n        <div style={{ position: \"relative\" }}>\n          <Link to={`/product/${_id}`}>\n            <img\n              className={s.img}\n              src={gallery && gallery[0]|| require(\"../../assets/image-placeholder.webp\")}\n              alt=\"loading\"\n            />\n          </Link>\n          <div className={s.number__tag}>\n            <span className={s.number}>{numberInCart}</span>\n          </div>\n        </div>\n\n        <div className={s.main__content}>\n          <Link to={`/product/${_id}`}>\n            <span className={s.title}>{title.slice(0, 15)}</span>\n          </Link>\n          <p className={s.category}>{desc.slice(0, 20)}</p>\n        </div>\n      </div>\n      <span className={s.fullprice}>{+numberInCart * +productPrice || 0}₴</span>\n    </div>\n  );\n};\n\nconst mapStateToProps = (state) => {\n  return {\n    allProductsInCart: state.cart.all,\n  };\n};\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    changeNumberInCart: (value, id, allProducts) =>\n      dispatch(changeNumberInCartAction(value, id, allProducts)),\n    removeFromCart: (product) => dispatch(removeFromCartAction(product)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OrderProductCard);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"OrderProductCard_card__3mVvx\",\"mobile\":\"OrderProductCard_mobile__j4M-k\",\"main\":\"OrderProductCard_main__CJgkd\",\"title\":\"OrderProductCard_title__27G2k\",\"category\":\"OrderProductCard_category__1ffrw\",\"img\":\"OrderProductCard_img__24hU4\",\"price\":\"OrderProductCard_price__2cZ6i\",\"fullprice\":\"OrderProductCard_fullprice__2txF7\",\"remove__icon\":\"OrderProductCard_remove__icon__1C_19\",\"icon_ft\":\"OrderProductCard_icon_ft__1_YRO\",\"number__tag\":\"OrderProductCard_number__tag__33mw5\",\"number\":\"OrderProductCard_number__2k2db\",\"actions__container\":\"OrderProductCard_actions__container__15CUb\",\"price__wrapper\":\"OrderProductCard_price__wrapper__2Xi-d\",\"qty__counter__wrapper\":\"OrderProductCard_qty__counter__wrapper__B3MKm\",\"remove__icon__wrapper\":\"OrderProductCard_remove__icon__wrapper__3p553\",\"fullprice__container\":\"OrderProductCard_fullprice__container__2Lh4B\"};","import { fetchCities, fetchWarehousesByCity, postOrder } from \"../api/api\";\nimport {\n  SET_CITIES,\n  SET_SELECTED_CITY,\n  SET_SELECTED_WAREHOUSE,\n  SET_WAREHOUSES,\n  SET_LOADING, ADD_HISTORY_ITEM,\n} from \"./actionTypes\";\nimport { getAdminToken, getToken } from \"../../utils/utils\";\n\nexport const getCitiesAction = (filterValue, filterLimit) => {\n  return async (dispatch) => {\n    const response = await fetchCities(filterValue, filterLimit);\n    dispatch({\n      type: SET_CITIES,\n      cities: response.data.data,\n    });\n  };\n};\n\nexport const getWarehousesAction = (city) => {\n  return async (dispatch) => {\n    const response = await fetchWarehousesByCity(city);\n    dispatch({\n      type: SET_WAREHOUSES,\n      warehouses: response.data.data,\n    });\n  };\n};\n\nexport const setSelectedCityAction = (city) => {\n  return {\n    type: SET_SELECTED_CITY,\n    city,\n  };\n};\nexport const setSelectedWarehouseAction = (warehouse) => {\n  return {\n    type: SET_SELECTED_WAREHOUSE,\n    warehouse,\n  };\n};\n\nexport const submitOrderAction = (order, type = \"user\") => {\n  return async (dispatch) => {\n    let token = getToken();\n    if (type === \"admin\") {\n      token = getAdminToken();\n    }\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const response = await postOrder(order, token);\n    dispatch({ type: SET_LOADING, isLoading: false });\n    if (response?.status === 200) {\n      dispatch({type: ADD_HISTORY_ITEM, order: response.data})\n    }\n    return response?.status === 200 ? response.data : false;\n  };\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title__container\":\"Order_title__container__2jVos\",\"section\":\"Order_section__1AHVU\",\"title\":\"Order_title__2tfhQ\",\"bread__crumbs\":\"Order_bread__crumbs__22VXZ\",\"order__container\":\"Order_order__container__2VE4I\",\"submit__container\":\"Order_submit__container__7TdUu\",\"submit__title\":\"Order_submit__title__11NrT\",\"submit__container_all\":\"Order_submit__container_all__36go3\",\"price\":\"Order_price__3J-33\",\"status\":\"Order_status__2Bx9E\",\"products__container\":\"Order_products__container__1Gm1-\",\"products__header\":\"Order_products__header__OZmNZ\",\"sort__container\":\"Order_sort__container__3mUEf\",\"actions__container\":\"Order_actions__container__30EzH\",\"goBack__but\":\"Order_goBack__but__2_oiE\",\"goBack\":\"Order_goBack__343u9\",\"submit__btn__container\":\"Order_submit__btn__container__3Bg_K\",\"input__row\":\"Order_input__row__3BIVP\",\"input__container\":\"Order_input__container__2lXP2\",\"phone__container\":\"Order_phone__container__V9C1_\",\"phone__input\":\"Order_phone__input__1Ygow\",\"input\":\"Order_input__nX-MZ\",\"subtotal__container\":\"Order_subtotal__container__2MS55\",\"subtotal__title\":\"Order_subtotal__title__1Rihj\",\"subtotal__price\":\"Order_subtotal__price__2WnIY\",\"save__user__container\":\"Order_save__user__container__1PXiP\",\"save__user__desc\":\"Order_save__user__desc__3m2f_\",\"save__user__checkbox\":\"Order_save__user__checkbox__2E450\",\"liqpay\":\"Order_liqpay__1kVWi\"};","import React, {useEffect} from \"react\";\nimport s from \"./Order.module.css\";\nimport {connect} from \"react-redux\";\nimport FixedWrapper from \"../../wrappers/FixedWrapper/FixedWrapper\";\nimport Select from \"../../misc/Select/Select\";\nimport Button from \"../../misc/Button/Button\";\nimport {Redirect, withRouter} from \"react-router-dom\";\nimport {\n    addToCartAction,\n    removeFromCartAction,\n    setFullPriceAction,\n    setCart,\n} from \"../../store/actions/cartActions\";\nimport BreadCrumbs from \"../../misc/BreadCrumbs/BreadCrumbs\";\nimport {withFormik} from \"formik\";\nimport Input from \"../../misc/Inputs/Input/Input\";\nimport {\n    getCitiesAction,\n    getWarehousesAction,\n    setSelectedCityAction,\n    setSelectedWarehouseAction,\n    submitOrderAction,\n} from \"../../store/actions/orderActions\";\nimport OrderProductCard from \"../../misc/OrderProductCard/OrderProductCard\";\nimport {patchUserAction} from \"../../store/actions/profileActions\";\nimport {showAlertAction} from \"../../store/actions/alertActions\";\nimport GoBackBtn from \"../../misc/GoBackBtn/GoBackBtn\";\nimport {ReactComponent as ShoppingCart} from \"../../assets/shopping-cart.svg\";\nimport PhoneNumberInput from \"../../misc/Inputs/PhoneNumberInput/PhoneNumberInput\";\nimport {LiqPayPay} from \"react-liqpay\";\n\nconst deliveryOptions = [\n    {value: \"self-pickup\", label: \"Самовивіз\"},\n    {value: \"NovaPoshta\", label: \"Нова пошта\"},\n];\n\nconst payOptions = [\n    {value: \"cash\", label: \"Наложений платіж\"},\n    {value: \"card\", label: \"Картою (LiqPay)\"},\n];\n\nconst CreateOrder = ({\n                         cartProducts,\n                         fullPrice,\n                         setFullPrice,\n                         getCities,\n                         getWarehouses,\n                         cities,\n                         filterCities,\n                         setSelectedWarehouse,\n                         setSelectedCity,\n                         warehouses,\n                         filterWarehouses,\n                         user,\n                         handleChange,\n                         values,\n                         setValues,\n                         handleSubmit,\n                         isLoading\n                     }) => {\n    const breadCrumbsItems = [\n        {\n            name: \"Кошик\",\n            path: \"/cart\",\n            icon: <ShoppingCart className={s.bread__crumbs}/>,\n        },\n        {name: \"Замовлення\", path: \"/order\"},\n    ];\n\n    const switchSaveUser = () => {\n        setValues({...values, isSaveUser: !values.isSaveUser});\n    };\n\n    const selectHandler = (option, type) => {\n        setValues({...values, [type]: option});\n    };\n\n    const onCitiesScroll = ({target}, searchValue) => {\n        if (\n            target.scrollHeight - target.scrollTop < 400 &&\n            cities.length % 20 === 0\n        ) {\n            filterCities(searchValue, cities.length + 20);\n        }\n    };\n\n    const onCitySearchChange = (value) => {\n        if (cities.length === 1 && value === cities[0].Description) {\n            setValues({...values, selectedCity: value})\n            getWarehouses(value);\n        }\n        filterCities(value);\n    };\n\n    const onCitySelect = (option) => {\n        setValues({...values, selectedCity: option.label})\n        getWarehouses(option.label);\n    };\n\n    const onWarehousesScroll = ({target}, searchValue) => {\n        if (\n            target.scrollHeight - target.scrollTop < 400 &&\n            warehouses.length % 20 === 0\n        ) {\n            filterWarehouses(searchValue, warehouses.length + 20);\n        }\n    };\n\n    const onWarehouseSelect = (option) => {\n        setValues({...values, selectedWarehouse: option.value})\n    };\n\n    useEffect(() => {\n        setFullPrice(\n            cartProducts.reduce(\n                (acc, {price, numberInCart = 1, selectedAttributesPrice}) => {\n                    const productPrice = +selectedAttributesPrice || price;\n                    return acc + productPrice * numberInCart;\n                },\n                0\n            )\n        );\n    }, [cartProducts]);\n\n    useEffect(() => {\n        getCities();\n    }, []);\n\n    useEffect(() => {\n        setValues({\n            ...values,\n            fName: user.fName,\n            lName: user.lName,\n            phone: user.phone,\n        });\n    }, [user]);\n    return !cartProducts.length && !isLoading ? (\n        <Redirect to=\"/\" />\n    ) : (\n        <div className={s.container}>\n            <div className={s.title__container}>\n                <h4 className={s.title}>Замовлення</h4>\n                <BreadCrumbs items={breadCrumbsItems}/>\n            </div>\n            <FixedWrapper>\n                <div className={s.order__container}>\n                    <div className={s.products__container}>\n                        {cartProducts.map((product) => (\n                            <OrderProductCard isSmall {...{product}} key={product._id}/>\n                        ))}\n                        <div className={s.subtotal__container}>\n                            <div className={s.subtotal__title}>Ціна:</div>\n                            <div className={s.subtotal__price}>{fullPrice}₴</div>\n                        </div>\n                    </div>\n                    <div className={s.submit__container_all}>\n                        <div className={s.submit__container}>\n                            <h2 className={s.submit__title}>Оформити замовлення</h2>\n                            <div className={s.input__row}>\n                                <Input\n                                    name=\"fName\"\n                                    inputClass={s.input}\n                                    containerClass={s.input__container}\n                                    value={values.fName}\n                                    onChange={handleChange}\n                                    label=\"Ім'я\"\n                                    placeholder=\"John\"\n                                />\n                                <Input\n                                    placeholder=\"Doe\"\n                                    name=\"lName\"\n                                    inputClass={s.input}\n                                    containerClass={s.input__container}\n                                    value={values.lName}\n                                    onChange={handleChange}\n                                    label=\"Прізвище\"\n                                />\n                            </div>\n                            <div className={s.phone__container}>\n                                <PhoneNumberInput\n                                    name=\"phone\"\n                                    value={values.phone}\n                                    onChange={handleChange}\n                                    className={s.phone__input}\n                                    label=\"Номер телефону\"\n                                />\n                            </div>\n                            <Select\n                                containerClass={s.section}\n                                options={payOptions}\n                                onSelect={(option) => selectHandler(option, \"paymentType\")}\n                                label=\"Тип оплати\"\n                                value={values.paymentType.label}\n                            />\n                            <Select\n                                containerClass={s.section}\n                                options={deliveryOptions}\n                                onSelect={(option) => selectHandler(option, \"deliveryType\")}\n                                label=\"Тип доставки\"\n                                value={values.deliveryType.label}\n                            />\n                            <Select\n                                containerClass={s.section}\n                                withSearch\n                                noDefaultValue\n                                onMenuScroll={onCitiesScroll}\n                                menuClass={s.select__menu}\n                                options={cities.map((city) => ({\n                                    value: city.Description,\n                                    label: city.Description,\n                                }))}\n                                onSelect={onCitySelect}\n                                onSearchValueChange={onCitySearchChange}\n                                label=\"Місто\"\n                            />\n                            <Select\n                                containerClass={s.section}\n                                withSearch\n                                noDefaultValue\n                                onMenuScroll={onWarehousesScroll}\n                                menuClass={s.select__menu}\n                                options={warehouses.map((warehouse) => ({\n                                    value: warehouse.Description,\n                                    label: warehouse.Description,\n                                }))}\n                                onSelect={onWarehouseSelect}\n                                label=\"Номер відділення\"\n                            />\n\n                            <div className={s.actions__container}>\n                                <div className={s.save__user__container}>\n                                    <input\n                                        type=\"checkbox\"\n                                        name=\"isSaveUser\"\n                                        onChange={handleChange}\n                                        checked={values.isSaveUser}\n                                        className={s.save__user__checkbox}\n                                    />\n                                    <p className={s.save__user__desc} onClick={switchSaveUser}>\n                                        Оновити мій профіль\n                                    </p>\n                                </div>\n                                <div className={s.submit__btn__container}>\n                                    {/*<LiqPayPay*/}\n                                    {/*    publicKey=\"sandbox_i7961872980\"*/}\n                                    {/*    privateKey=\"sandbox_igIHtRIrF2IT63rResIB5zLosOTjJvEGEnI419Y8\"*/}\n                                    {/*    amount={`${fullPrice}`}*/}\n                                    {/*    description=\"Оплата замовлення\"*/}\n                                    {/*    currency=\"UAH\"*/}\n                                    {/*    orderId={\"\"}*/}\n                                    {/*    product_description=\"Оплата замовлення\"*/}\n                                    {/*    style={{ margin: \"8px\" }}*/}\n                                    {/*    extra={[<Button title={`Оплатити ${fullPrice} грн. (LiquidPay)`} />]}*/}\n                                    {/*/>*/}\n                                    <Button\n                                        title=\"Підтвердити замовлення\"\n                                        onClick={handleSubmit}\n                                        isDisabled={\n                                            // !user._id ||\n                                            !values.fName ||\n                                            !values.lName ||\n                                            !values.phone\n                                        }\n                                        className={s.submit__btn}\n                                    />\n                                </div>\n                                <GoBackBtn/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </FixedWrapper>\n        </div>\n    );\n};\n\nconst formikHOC = withFormik({\n    mapPropsToValues: (props) => ({\n        lName: props.user.fName,\n        fName: props.user.lName,\n        phone: props.user.phone,\n        deliveryType: deliveryOptions[0],\n        paymentType: payOptions[0],\n        isSaveUser: false,\n        selectedWarehouse: \"\",\n        selectedCity: \"\"\n    }),\n    handleSubmit: async (\n        values,\n        {\n            props: {\n                cartProducts,\n                patchUser,\n                user,\n                createOrder,\n                fullPrice,\n                showAlert,\n                setCart,\n                history\n            },\n            resetForm,\n        }\n    ) => {\n        const products = cartProducts.map(\n            ({selectedAttributesId, _id, quantity}) => ({\n                attrOptions: selectedAttributesId,\n                id: _id,\n                quantity,\n            })\n        );\n        let correctPhone = values.phone\n        if (values.phone && !Number.isNaN(values.phone)) {\n            if (values.phone?.startsWith(\"0\")) {\n                correctPhone = +`38${values.phone}`;\n            } else {\n                correctPhone = +values.phone;\n            }\n        }\n        if (values.isSaveUser) {\n            patchUser({\n                ...user,\n                fName: values.fName,\n                lName: values.lName,\n                phone: values.phone,\n            });\n        }\n\n        const orderData = await createOrder({\n            products,\n            phone: values.phone,\n            deliveryCity: values.selectedCity,\n            deliveryHouse: null,\n            deliveryStreet: null,\n            deliveryApartament: null,\n            deliveryWarehouse: values.selectedWarehouse,\n            paymentType: values.paymentType.value,\n            sum: fullPrice,\n            userID: user._id || null,\n            status: values.paymentType.value === \"card\" ? \"waitForPayment\" : \"created\",\n        });\n        if (orderData) {\n            console.log(\"order data ===\", orderData)\n            showAlert(\"Замовлення створено успішно!\", \"success\");\n\n            setCart([]);\n            localStorage.removeItem(\"_cart\");\n            resetForm({\n                lName: \"\",\n                fName: \"\",\n                phone: \"\",\n                deliveryType: deliveryOptions[0],\n                paymentType: payOptions[0],\n                isSaveUser: false,\n            });\n            if (values.paymentType.value === \"card\") {\n                history.push(`/order/payment/${orderData._id}/${orderData.sum}`)\n            }\n        } else {\n            showAlert(\"Сталась помилка при створенні замовлення.\");\n        }\n    },\n})(CreateOrder);\n\nconst routerHOC = withRouter(formikHOC)\n\nconst mapStateToProps = (state) => {\n    return {\n        cartProducts: state.cart.all,\n        fullPrice: state.cart.fullPrice,\n        cities: state.order.cities,\n        warehouses: state.order.warehouses,\n        isLoading: state.base.isLoading,\n        user: state.profile,\n    };\n};\nconst mapDispatchToProps = (dispatch) => {\n    return {\n        addToCart: (product) => dispatch(addToCartAction(product)),\n        removeFromCart: (product) => dispatch(removeFromCartAction(product)),\n        setFullPrice: (fullPrice) => dispatch(setFullPriceAction(fullPrice)),\n        getCities: () => dispatch(getCitiesAction()),\n        filterCities: (filterValue, limit) =>\n            dispatch(getCitiesAction(filterValue, limit)),\n        getWarehouses: (city) => dispatch(getWarehousesAction(city)),\n        filterWarehouses: (filterValue) =>\n            dispatch(getWarehousesAction(filterValue)),\n        setSelectedCity: (city) => dispatch(setSelectedCityAction(city)),\n        setSelectedWarehouse: (warehouse) =>\n            dispatch(setSelectedWarehouseAction(warehouse)),\n        patchUser: (user, token) => dispatch(patchUserAction(user, token)),\n        createOrder: (order) => dispatch(submitOrderAction(order)),\n        showAlert: (content, type) => dispatch(showAlertAction(content, type)),\n        setCart: (cart) => dispatch(setCart(cart)),\n    };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(routerHOC);\n"],"sourceRoot":""}