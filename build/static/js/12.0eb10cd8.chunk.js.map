{"version":3,"sources":["misc/GoBackBtn/GoBackBtn.js","misc/GoBackBtn/GoBackBtn.module.css","store/actions/adminActions.js","pages/Admin/pages/EditNews/EditNews.module.css","pages/Admin/pages/EditNews/EditNews.js"],"names":["GoBackBtn","props","h","useHistory","className","s","goBack__but","onClick","goBack","icon","faArrowLeft","module","exports","createCategoryAction","category","dispatch","a","token","getAdminToken","type","SET_LOADING","isLoading","createCategory","desc","gallery","response","status","ADD_CATEGORY","data","console","log","deleteCategoryAction","id","deleteCategory","DELETE_CATEGORY","createNewsAction","body","createNews","uploadImageToNews","deleteNewsAction","deleteNews","DELETE_NEWS","editNewsAction","news","imageFormData","patchNews","imageResponse","createVendorAction","vendor","createVendor","deleteVendorAction","deleteVendor","_id","editVendorAction","patchVendor","getAttributesAction","fetchAttributes","SET_ATTRIBUTES","attributes","deleteAttributeAction","deleteAttribute","DELETE_ATTRIBUTE","createAttributeAction","attribute","createAttribute","ADD_ATTRIBUTE","editAttributeAction","patchAttribute","getUsersAction","fetchUsers","SET_USERS","users","deleteUserAction","deleteUser","DELETE_USER","getVendorsAction","fetchVendors","SET_VENDORS","vendors","filterUsersAction","searchValue","RESET_FILTERED_USERS","filteredUsers","filter","fName","lName","phone","toLowerCase","startsWith","SET_FILTERED_USERS","createProductAction","product","postProduct","productRes","productGallery","postProductGallery","galleryResponse","ADD_PRODUCT","editProductAction","patchProduct","deleteProductAction","deleteProduct","DELETE_PRODUCT","getOrdersAction","fetchOrders","SET_ORDERS","orders","getOrderProductsAction","order","productsIds","products","map","join","fetchExactProducts","SET_ORDERS_PRODUCTS","orderId","deleteOrderAction","deleteOrder","formikHOC","withFormik","mapPropsToValues","title","galleryFile","handleSubmit","values","editNews","showAlert","FormData","append","get","isNewsCreated","getSingleNews","singleNews","setValues","handleChange","useParams","uploadedImage","useRef","imageUploader","useEffect","title__container","items","name","path","input__container","title__input","label","value","input","onChange","image__input","accept","e","file","target","files","reader","FileReader","current","onload","result","src","readAsDataURL","ref","input__image","upload__image","click","alt","style","width","height","news__content","isTextarea","textarea","connect","state","single","getSingleNewsAction","image","content","showAlertAction"],"mappings":"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","file":"static/js/12.0eb10cd8.chunk.js","sourcesContent":["import React from \"react\";\nimport s from \"./GoBackBtn.module.css\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport { useHistory } from \"react-router-dom\";\n\nconst GoBackBtn = (props) => {\n  const h = useHistory();\n  return (\n    <div>\n      <button\n        className={s.goBack__but}\n        onClick={() => {\n          h.goBack();\n        }}\n      >\n        <FontAwesomeIcon icon={faArrowLeft} className={s.goBack} />\n        Повернутися\n      </button>\n    </div>\n  );\n};\n\nexport default GoBackBtn;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"goBack__but\":\"GoBackBtn_goBack__but__2zr8U\",\"goBack\":\"GoBackBtn_goBack__I9eNM\"};","import {\n  createCategory,\n  fetchUsers,\n  createVendor,\n  fetchVendors,\n  fetchAttributes,\n  deleteAttribute,\n  deleteCategory,\n  createAttribute,\n  patchAttribute,\n  createNews,\n  uploadImageToNews,\n  deleteNews,\n  deleteVendor,\n  deleteUser,\n  patchVendor,\n  fetchUserData,\n  fetchUserById,\n  postProduct,\n  postProductGallery,\n  deleteProduct,\n  patchNews,\n  patchProduct,\n  fetchOrders,\n  fetchSingleProduct,\n  deleteOrder,\n  fetchExactProducts,\n} from \"../api/api\";\nimport { getToken, getAdminToken } from \"../../utils/utils\";\nimport {\n  SET_USERS,\n  RESET_FILTERED_USERS,\n  SET_FILTERED_USERS,\n  ADD_CATEGORY,\n  SET_ATTRIBUTES,\n  DELETE_ATTRIBUTE,\n  DELETE_CATEGORY,\n  ADD_ATTRIBUTE,\n  DELETE_NEWS,\n  SET_VENDORS,\n  DELETE_USER,\n  SET_LOADING,\n  ADD_PRODUCT,\n  SET_ORDERS,\n  DELETE_PRODUCT,\n  SET_ORDERS_PRODUCTS,\n} from \"./actionTypes\";\n\nexport const createCategoryAction = (category) => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const response = await createCategory(\n      { ...category, desc: \"\", gallery: [\"\"] },\n      token\n    );\n    dispatch({ type: SET_LOADING, isLoading: false });\n    if (response.status === 200) {\n      dispatch({ type: ADD_CATEGORY, category: response.data });\n    }\n    console.log(\"category response ===\", response.data);\n    return response.status === 200;\n  };\n};\n\nexport const deleteCategoryAction = (id) => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const response = await deleteCategory(id, token);\n    dispatch({ type: SET_LOADING, isLoading: false });\n    if (response.status === 200) {\n      dispatch({ type: DELETE_CATEGORY, id });\n    }\n    console.log(\"delete category ===\", response?.data);\n    return response.status === 200;\n  };\n};\n\nexport const createNewsAction = (body, gallery) => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    console.log(\"before request\");\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const response = await createNews(body, token);\n    dispatch({ type: SET_LOADING, isLoading: false });\n    console.log(\"news response ===\", response.data);\n    if (!gallery || !response?.data) {\n      return false;\n    }\n    if (response.status === 200) {\n      console.log(\"gallery ===\", gallery);\n\n      const imageResponse = await uploadImageToNews(\n        gallery,\n        response.data,\n        token\n      );\n\n      return true;\n    }\n  };\n};\n\nexport const deleteNewsAction = (id) => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const response = await deleteNews(id, token);\n    dispatch({ type: SET_LOADING, isLoading: false });\n    console.log(\"delete news ===\", response?.data);\n    if (response.status === 200) {\n      dispatch({\n        type: DELETE_NEWS,\n        id,\n      });\n    }\n    return response.status === 200;\n  };\n};\n\nexport const editNewsAction = (news, id, imageFormData) => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const response = await patchNews(news, id, token);\n    console.log(\"edit news ===\", response?.data);\n    if (response.status === 200) {\n      const imageResponse = await uploadImageToNews(\n        imageFormData,\n        response.data,\n        token\n      );\n      console.log(\"image res ===\", imageResponse?.data);\n    }\n    dispatch({ type: SET_LOADING, isLoading: false });\n    return response.status === 200;\n  };\n};\n\nexport const createVendorAction = (vendor) => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const response = await createVendor(vendor, token);\n    dispatch({ type: SET_LOADING, isLoading: false });\n    return response.status === 200;\n  };\n};\n\nexport const deleteVendorAction = (vendor) => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const response = await deleteVendor(vendor._id, token);\n    dispatch({ type: SET_LOADING, isLoading: false });\n    console.log(\"delete vendor ===\", response?.data);\n    return response.status === 200;\n  };\n};\n\nexport const editVendorAction = (vendor) => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const response = await patchVendor(vendor, vendor._id, token);\n    dispatch({ type: SET_LOADING, isLoading: false });\n    console.log(\"patch vendor ===\", response?.data);\n    return response.status === 200;\n  };\n};\n\nexport const getAttributesAction = () => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const response = await fetchAttributes(token);\n    dispatch({ type: SET_LOADING, isLoading: false });\n    if (response.status === 200) {\n      dispatch({\n        type: SET_ATTRIBUTES,\n        attributes: response.data,\n      });\n    }\n    console.log(\"attributes ===\", response?.data);\n    return response.status === 200;\n  };\n};\n\nexport const deleteAttributeAction = (id) => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const response = await deleteAttribute(id, token);\n    dispatch({ type: SET_LOADING, isLoading: false });\n    console.log(\"delete attribute ===\", response?.data);\n    if (response.status === 200) {\n      dispatch({\n        type: DELETE_ATTRIBUTE,\n        id,\n      });\n    }\n    return response.status === 200;\n  };\n};\n\nexport const createAttributeAction = (attribute) => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const response = await createAttribute(attribute, token);\n    dispatch({ type: SET_LOADING, isLoading: false });\n    console.log(\"create response ===\", response?.data);\n    if (response.status === 200) {\n      dispatch({\n        type: ADD_ATTRIBUTE,\n        attribute: response.data,\n      });\n    }\n    return response.status === 200;\n  };\n};\n\nexport const editAttributeAction = (attribute) => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    dispatch({ type: SET_LOADING, isLoading: true });\n\n    const response = await patchAttribute(attribute, token);\n    dispatch({ type: SET_LOADING, isLoading: false });\n    console.log(\"edit attribute ===\", response?.data);\n    return response.status === 200;\n  };\n};\n\nexport const getUsersAction = () => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const response = await fetchUsers(token);\n    dispatch({ type: SET_LOADING, isLoading: false });\n    if (response.status === 200) {\n      dispatch({\n        type: SET_USERS,\n        users: response.data,\n      });\n    }\n  };\n};\n\nexport const deleteUserAction = (id) => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const response = await deleteUser(id, token);\n    dispatch({ type: SET_LOADING, isLoading: false });\n    console.log(\"delete user ===\", response.status);\n\n    if (response.status === 200) {\n      dispatch({\n        type: DELETE_USER,\n        id,\n      });\n    }\n  };\n};\n\nexport const getVendorsAction = () => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    const response = await fetchVendors(token);\n    console.log(\"response ===\", response?.data);\n    if (response.status === 200) {\n      dispatch({\n        type: SET_VENDORS,\n        vendors: response.data,\n      });\n    }\n  };\n};\n\nexport const filterUsersAction = (searchValue, users) => {\n  if (!searchValue) {\n    return {\n      type: RESET_FILTERED_USERS,\n    };\n  }\n  const filteredUsers = users.filter(\n    ({ fName = \"\", lName = \"\", phone = \"\" }) => {\n      return (\n        fName.toLowerCase().startsWith(searchValue) ||\n        lName.toLowerCase().startsWith(searchValue) ||\n        `${phone}`.toLowerCase().startsWith(searchValue)\n      );\n    }\n  );\n  return {\n    type: SET_FILTERED_USERS,\n    users: filteredUsers,\n  };\n};\n\nexport const createProductAction = (product, gallery) => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const productRes = await postProduct(product, token);\n    console.log(\"response ===\", productRes?.data);\n    console.log(\"gallery ===\", gallery);\n\n    if (productRes?.data) {\n      let productGallery = productRes.gallery;\n      if (gallery) {\n        const galleryResponse = await postProductGallery(\n          gallery,\n          productRes.data._id,\n          token\n        );\n        console.log(\"gallery res ===\", galleryResponse?.data);\n        if (galleryResponse?.data) {\n          productGallery = galleryResponse.data;\n        }\n      }\n      dispatch({\n        type: ADD_PRODUCT,\n        product: { ...productRes.data, gallery: productGallery },\n      });\n    }\n    dispatch({ type: SET_LOADING, isLoading: false });\n    return productRes.status === 200;\n  };\n};\n\nexport const editProductAction = (product, gallery, id) => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const productRes = await patchProduct(product, id, token);\n    console.log(\"edit product res ===\", productRes.data);\n\n    if (productRes.status === 200) {\n      let productGallery = productRes.gallery;\n      if (gallery) {\n        const galleryResponse = await postProductGallery(\n          gallery,\n          productRes.data._id,\n          token\n        );\n        console.log(\"gallery res ===\", galleryResponse?.data);\n        if (galleryResponse?.data) {\n          productGallery = galleryResponse.data;\n        }\n        dispatch({\n          type: ADD_PRODUCT,\n          product: { ...productRes.data, gallery: productGallery },\n        });\n        dispatch({ type: SET_LOADING, isLoading: false });\n        return galleryResponse.status === 200;\n      }\n    }\n    dispatch({\n      type: ADD_PRODUCT,\n      product: { ...productRes.data, gallery: [] },\n    });\n    dispatch({ type: SET_LOADING, isLoading: false });\n    return productRes.status === 200;\n  };\n};\n\nexport const deleteProductAction = (id) => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const response = await deleteProduct(id, token);\n    console.log(\"delete response ===\", response.data);\n    dispatch({ type: SET_LOADING, isLoading: false });\n    if (response.status === 200) {\n      dispatch({ type: DELETE_PRODUCT, id: response.data._id });\n    }\n  };\n};\n\nexport const getOrdersAction = () => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const response = await fetchOrders(token);\n    console.log(\"fetchOrders ===\", response.data);\n    dispatch({ type: SET_LOADING, isLoading: false });\n    if (response.status === 200) {\n      dispatch({ type: SET_ORDERS, orders: response.data });\n    }\n  };\n};\n\nexport const getOrderProductsAction = (order) => {\n  return async (dispatch) => {\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const productsIds = order.products.map(({ id }) => id).join(\",\");\n    console.log(\"productsIds ===\", productsIds);\n\n    const products = await fetchExactProducts(productsIds);\n    dispatch({ type: SET_LOADING, isLoading: false });\n    console.log(\"products ===\", products);\n    dispatch({ type: SET_ORDERS_PRODUCTS, products, orderId: order._id });\n  };\n};\n\nexport const deleteOrderAction = (id) => {\n  return async (dispatch) => {\n    const token = getAdminToken();\n    dispatch({ type: SET_LOADING, isLoading: true });\n    const response = await deleteOrder(token);\n    dispatch({ type: SET_LOADING, isLoading: false });\n    return response.status === 200;\n  };\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title__container\":\"EditNews_title__container__3GXEa\",\"title\":\"EditNews_title__1SnJN\",\"input__container\":\"EditNews_input__container__3ISko\",\"news__content\":\"EditNews_news__content__2eC3S\",\"label\":\"EditNews_label__3TsXJ\",\"input\":\"EditNews_input__32lDf\",\"title__input\":\"EditNews_title__input__3PWYN\",\"textarea\":\"EditNews_textarea__6Il5U\",\"image__input\":\"EditNews_image__input__2XCRy\",\"input__image\":\"EditNews_input__image__24hA8\",\"upload__image\":\"EditNews_upload__image__1NXCH\",\"uploaded__image\":\"EditNews_uploaded__image__1MLNH\"};","import React, { useRef, useEffect, useState } from \"react\";\nimport s from \"./EditNews.module.css\";\nimport FixedWrapper from \"../../../../wrappers/FixedWrapper/FixedWrapper\";\nimport Button from \"../../../../misc/Button/Button\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faArrowLeft } from \"@fortawesome/free-solid-svg-icons\";\nimport { connect } from \"react-redux\";\nimport { getSingleNewsAction } from \"../../../../store/actions/newsActions\";\nimport GoBackBtn from \"../../../../misc/GoBackBtn/GoBackBtn\";\nimport BreadCrumbs from \"../../../../misc/BreadCrumbs/BreadCrumbs\";\nimport { withFormik } from \"formik\";\nimport Input from \"../../../../misc/Inputs/Input/Input\";\nimport { editNewsAction } from \"../../../../store/actions/adminActions\";\nimport { showAlertAction } from \"../../../../store/actions/alertActions\";\n\nconst EditNews = ({\n  getSingleNews,\n  singleNews,\n  values,\n  setValues,\n  handleChange,\n  handleSubmit,\n}) => {\n  console.log(singleNews);\n  const { id } = useParams();\n\n  const uploadedImage = useRef(null);\n\n  const imageUploader = useRef(null);\n\n  useEffect(() => {\n    getSingleNews(id);\n  }, []);\n  console.log(\"singleNews ===\", singleNews);\n\n  useEffect(() => {\n    const { desc, title, gallery, _id } = singleNews;\n    if (singleNews._id) {\n      setValues({\n        ...values,\n        desc,\n        title,\n        gallery,\n        _id,\n      });\n    }\n  }, [singleNews]);\n\n  // const [newsData, setNewsData] = useState({\n  //   getSingleNews,\n  //   match,\n  //   singleNews,\n  // });\n\n  // const handleRemovePhoto = (e) => {\n  //   setNewsData((prev) => ({ ...prev, gallery: [] }));\n  // };\n\n  const handleImageUpload = (e) => {\n    const [file] = e.target.files;\n    if (file) {\n      const reader = new FileReader();\n      const { current } = uploadedImage;\n      current.file = file;\n      reader.onload = ({ target: { result } }) => {\n        current.src = result;\n        setValues({ ...values, gallery: result, galleryFile: file });\n        // setNewsData((prev) => ({ ...prev, gallery: e.target.result }));\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n  const h = useHistory();\n  const breadCrumbsItems = [\n    {\n      name: \"Адмін\",\n      path: \"/admin\",\n    },\n    { name: \"Редагувати новину\" },\n  ];\n  return (\n    <div>\n      <div className={s.title__container}>\n        <h4 className={s.title}>Редагування новини</h4>\n        <BreadCrumbs items={breadCrumbsItems} />\n      </div>\n      <FixedWrapper>\n        <div className={s.input__container}>\n          <div className={s.title__input}>\n            <Input\n              label=\"Заголовок\"\n              value={values.title}\n              name=\"title\"\n              className={s.input}\n              onChange={handleChange}\n            />\n          </div>\n          <div className={s.image__input}>\n            <span className={s.label}>Натисніть на фото, щоб обрати нове</span>\n            <input\n              type=\"file\"\n              accept=\"image/*\"\n              onChange={handleImageUpload}\n              ref={imageUploader}\n              className={s.input__image}\n            />\n            <div\n              className={s.upload__image}\n              onClick={() => imageUploader.current.click()}\n            >\n              {/* <button\n                className={s.delete__photo}\n                onClick={handleRemovePhoto}\n                title=\"Видалити фотографію\"\n              >\n                x\n              </button> */}\n              <img\n                alt=\"loading\"\n                ref={uploadedImage}\n                src={values.gallery}\n                style={{\n                  width: \"100%\",\n                  height: \"100%\",\n                }}\n              />\n            </div>\n          </div>\n          <div className={s.news__content}>\n            <Input\n              isTextarea\n              label=\"Текст новини\"\n              name=\"desc\"\n              className={s.textarea}\n              onChange={handleChange}\n              value={values.desc}\n            />\n          </div>\n          <Button title=\"Зберегти зміни\" type=\"submit\" onClick={handleSubmit} />\n          <GoBackBtn />\n        </div>\n      </FixedWrapper>\n    </div>\n  );\n};\n\nconst formikHOC = withFormik({\n  mapPropsToValues: () => ({\n    title: \"\",\n    desc: \"\",\n    gallery: \"\",\n    galleryFile: {},\n    _id: \"\",\n  }),\n  handleSubmit: async (values, { props: { editNews, showAlert } }) => {\n    const { title, desc, gallery, galleryFile, _id } = values;\n    const imageFormData = new FormData();\n    console.log(\"gallery ===\", gallery);\n\n    imageFormData.append(\"gallery\", galleryFile);\n    console.log(\"image ===\", imageFormData.get(\"gallery\"));\n\n    const isNewsCreated = await editNews({ title, desc }, _id, imageFormData);\n    console.log(\"is news created ===\", isNewsCreated);\n\n    if (isNewsCreated) {\n      showAlert(\"Новину створено успішно!\", \"success\");\n    } else {\n      showAlert(\"Сталась помилка!\", \"error\");\n    }\n  },\n})(EditNews);\n\nconst mapStateToProps = (state) => {\n  return {\n    singleNews: state.news.single,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    getSingleNews: (id) => dispatch(getSingleNewsAction(id)),\n    editNews: (news, id, image) => dispatch(editNewsAction(news, id, image)),\n    showAlert: (content, type) => dispatch(showAlertAction(content, type)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(formikHOC);\n"],"sourceRoot":""}